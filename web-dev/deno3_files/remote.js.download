(function(g){var window=this;'use strict';var R0D=function(n,q){return g.oG(n,q)},o3L=function(n){if(n instanceof g.Cq)return n;
if(typeof n.EQ=="function")return n.EQ(!1);if(g.sJ(n)){let q=0;const M=new g.Cq;M.next=function(){for(;;){if(q>=n.length)return g.F3;if(q in n)return g.r4(n[q++]);q++}};
return M}throw Error("Not implemented");},wZG=function(n,q,M){if(g.sJ(n))g.Fm(n,q,M);
else for(n=o3L(n);;){const {done:t,value:c}=n.next();if(t)break;q.call(M,c,void 0,n)}},t6=function(n){g.kd(n,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^g.Hd()).toString(36));
return n},c1=function(n,q,M){Array.isArray(M)||(M=[String(M)]);
g.gS(n.J,q,M)},z0D=function(n,q){const M=[];
wZG(q,function(t){let c;try{c=g.Cp.prototype.W.call(this,t,!0)}catch(Y){if(Y=="Storage: Invalid value was encountered")return;throw Y;}c===void 0?M.push(t):g.VY(c)&&M.push(t)},n);
return M},JhT=function(n,q){z0D(n,q).forEach(function(M){g.Cp.prototype.remove.call(this,M)},n)},VTG=function(n){if(n.YQ){if(n.YQ.locationOverrideToken)return{locationOverrideToken:n.YQ.locationOverrideToken};
if(n.YQ.latitudeE7!=null&&n.YQ.longitudeE7!=null)return{latitudeE7:n.YQ.latitudeE7,longitudeE7:n.YQ.longitudeE7}}return null},CAL=function(n,q){g.rd(n,q)||n.push(q)},Y_=function(n){let q=0;
for(const M in n)q++;return q},rhd=function(n){try{return g.NR.JSON.parse(n)}catch(q){}n=String(n);
if(/^\s*$/.test(n)?0:/^[\],:{}\s\u2028\u2029]*$/.test(n.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+n+")")}catch(q){}throw Error("Invalid JSON string: "+n);},G9=function(n){if(g.NR.JSON)try{return g.NR.JSON.parse(n)}catch(q){}return rhd(n)},xhL=function(n,q,M,t){const c=new g.qw(null);
n&&g.Mw(c,n);q&&g.iW(c,q);M&&g.to(c,M);t&&(c.W=t);return c},Qxd=function(n,q){return new g.E0m(n,q)},KG=function(n,q){return Object.prototype.hasOwnProperty.call(n,q)},pZF=function(n,q){return n===q},k_=function(n,q){this.W={};
this.X=[];this.Q$=this.size=0;var M=arguments.length;if(M>1){if(M%2)throw Error("Uneven number of arguments");for(var t=0;t<M;t+=2)this.set(arguments[t],arguments[t+1])}else if(n)if(n instanceof k_)for(M=n.aN(),t=0;t<M.length;t++)this.set(M[t],n.get(M[t]));else for(t in n)this.set(t,n[t])},bH=function(n){if(n.size!=n.X.length){for(var q=0,M=0;q<n.X.length;){var t=n.X[q];
KG(n.W,t)&&(n.X[M++]=t);q++}n.X.length=M}if(n.size!=n.X.length){q={};for(t=M=0;M<n.X.length;){const c=n.X[M];KG(q,c)||(n.X[t++]=c,q[c]=1);M++}n.X.length=t}},dR=function(n){this.name=this.id="";
this.clientName="UNKNOWN_INTERFACE";this.app="";this.type="REMOTE_CONTROL";this.ownerObfuscatedGaiaId=this.obfuscatedGaiaId=this.avatar=this.username="";this.capabilities=new Set;this.compatibleSenderThemes=new Set;this.experiments=new Set;this.theme="u";new k_;this.model=this.brand="";this.year=0;this.chipset=this.osVersion=this.os="";this.mdxDialServerType="MDX_DIAL_SERVER_TYPE_UNKNOWN";n&&(this.id=n.id||n.name,this.name=n.name,this.clientName=n.clientName?n.clientName.toUpperCase():"UNKNOWN_INTERFACE",
this.app=n.app,this.type=n.type||"REMOTE_CONTROL",this.username=n.user||"",this.avatar=n.userAvatarUri||"",this.obfuscatedGaiaId=n.obfuscatedGaiaId||"",this.ownerObfuscatedGaiaId=n.ownerObfuscatedGaiaId||"",this.theme=n.theme||"u",nOd(this,n.capabilities||""),qus(this,n.compatibleSenderThemes||""),Myn(this,n.experiments||""),this.brand=n.brand||"",this.model=n.model||"",this.year=n.year||0,this.os=n.os||"",this.osVersion=n.osVersion||"",this.chipset=n.chipset||"",this.mdxDialServerType=n.mdxDialServerType||
"MDX_DIAL_SERVER_TYPE_UNKNOWN",n=n.deviceInfo)&&(n=JSON.parse(n),this.brand=n.brand||"",this.model=n.model||"",this.year=n.year||0,this.os=n.os||"",this.osVersion=n.osVersion||"",this.chipset=n.chipset||"",this.clientName=n.clientName?n.clientName.toUpperCase():"UNKNOWN_INTERFACE",this.mdxDialServerType=n.mdxDialServerType||"MDX_DIAL_SERVER_TYPE_UNKNOWN")},nOd=function(n,q){n.capabilities.clear();
g.Zs(q.split(","),g.fa(R0D,iNn)).forEach(M=>{n.capabilities.add(M)})},qus=function(n,q){n.compatibleSenderThemes.clear();
g.Zs(q.split(","),g.fa(R0D,tyw)).forEach(M=>{n.compatibleSenderThemes.add(M)})},Myn=function(n,q){n.experiments.clear();
q.split(",").forEach(M=>{n.experiments.add(M)})},Nx=function(n){n=n||{};
this.name=n.name||"";this.id=n.id||n.screenId||"";this.token=n.token||n.loungeToken||"";this.uuid=n.uuid||n.dialId||"";this.idType=n.screenIdType||"normal"},OB=function(n,q){return!!q&&(n.id==q||n.uuid==q)},cCK=function(n){return{name:n.name,
screenId:n.id,loungeToken:n.token,dialId:n.uuid,screenIdType:n.idType}},YuO=function(n){return new Nx(n)},G8O=function(n){return Array.isArray(n)?g.aj(n,YuO):[]},gR=function(n){return n?`{name:"${n.name}",id:${n.id.substr(0,6)}..,`+`token:${n.token?".."+n.token.slice(-6):"-"},uuid:${n.uuid?".."+n.uuid.slice(-6):"-"},idType:${n.idType}}`:"null"},eD=function(n){return Array.isArray(n)?"["+g.aj(n,gR).join(",")+"]":"null"},EB=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const q=
Math.random()*16|0;
return(n=="x"?q:q&3|8).toString(16)})},KBd=function(n){return g.aj(n,function(q){return{key:q.id,
name:q.name}})},h6=function(n,q){return g.V1(n,function(M){return M||q?!M!=!q?!1:M.id==q.id:!0})},W1=function(n,q){return g.V1(n,function(M){return OB(M,q)})},k8D=function(){var n=(0,g.Xv)();
n&&JhT(n,n.X.EQ(!0))},yF=function(){const n=g.Ir("yt-remote-connected-devices")||[];
g.fQ(n);return n},bNS=function(n){if(n.length==0)return[];
const q=n[0].indexOf("#"),M=q==-1?n[0]:n[0].substring(0,q);return g.aj(n,function(t,c){return c==0?t:t.substring(M.length)})},dun=function(n){g.Sz("yt-remote-connected-devices",n,86400)},XZ=function(){if(sB)return sB;
let n=g.Ir("yt-remote-device-id");n||(n=EB(),g.Sz("yt-remote-device-id",n,31536E3));const q=yF();let M=1,t=n;for(;g.rd(q,t);)M++,t=n+"#"+M;return sB=t},jD=function(){let n=yF();
const q=XZ();g.Hh()&&g.LQ(n,q);n=bNS(n);if(n.length==0)try{g.Xt("remote_sid")}catch(M){}else try{g.yd("remote_sid",n.join(","),-1)}catch(M){}},N$F=function(){return g.Ir("yt-remote-session-browser-channel")},ONS=function(){return g.Ir("yt-remote-local-screens")||[]},gOG=function(){g.Sz("yt-remote-lounge-token-expiration",!0,86400)},eqA=function(n){n.length>5&&(n=n.slice(n.length-5));
const q=g.aj(ONS(),function(t){return t.loungeToken}),M=g.aj(n,function(t){return t.loungeToken});
g.wd(M,function(t){return!g.rd(q,t)})&&gOG();
g.Sz("yt-remote-local-screens",n,31536E3)},SD=function(n){n||(g.fB("yt-remote-session-screen-id"),g.fB("yt-remote-session-video-id"));
jD();n=yF();g.MD(n,XZ());dun(n)},EOO=function(){if(!IC){const n=g.My();
n&&(IC=new g.RN(n))}},hqO=function(){EOO();
return IC?!!IC.get("yt-remote-use-staging-server"):!1},fG=function(n,q){g.H4[n]=!0;
const M=g.Iz();M&&M.publish.apply(M,arguments);g.H4[n]=!1},LG=function(){if(!H1){H1=new g.n4(new WBs);
const n=g.pM("client_streamz_web_flush_count",-1);n!==-1&&(H1.Z=n)}return H1},P1=function(){let n=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
return n?parseInt(n[1],10):0},yCO=function(n){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+n)!=-1||document.currentScript.src.indexOf("&"+n)!=-1)},sVs=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},v1=function(n){n.length?XVA(n.shift(),function(){v1(n)}):T9()},T9=function(){let n=sVs();
n&&n(!1,"No cast extension found")},XVA=function(n,q,M){let t=document.createElement("script");
t.onerror=q;M&&(t.onload=M);g.Y6(t,g.El(n));(document.head||document.documentElement).appendChild(t)},jVA=function(n){return"chrome-extension://"+n+"/cast_sender.js"},Sun=function(){const n=P1(),q=[];
if(n>1){const M=n-1;q.push("//www.gstatic.com/eureka/clank/"+n+"/cast_sender.js");q.push("//www.gstatic.com/eureka/clank/"+M+"/cast_sender.js")}return q},lH=function(){if(IzL){var n=2,q=sVs(),M=function(){n--;
n==0&&q&&q(!0)};
window.__onGCastApiAvailable=M;XVA("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",T9,M)}},fzG=function(){lH();
let n=Sun();n.push("//www.gstatic.com/eureka/clank/cast_sender.js");v1(n)},LBS=function(){lH();
let n=Sun();n.push(...HNs.map(jVA));n.push("//www.gstatic.com/eureka/clank/cast_sender.js");v1(n)},UB=function(n,q,M){g.Pm.call(this);
this.D=M!=null?(0,g.Ij)(n,M):n;this.ke=q;this.j=(0,g.Ij)(this.MN,this);this.X=!1;this.W=0;this.Z=this.Bn=null;this.J=[]},uH=function(){g.hQ.call(this,"p")},B1=function(){g.hQ.call(this,"o")},DC=function(){return PmS=PmS||new g.mR},vOw=function(n){g.hQ.call(this,"serverreachability",n)},A6=function(n){const q=DC();
q.dispatchEvent(new vOw(q,n))},T$L=function(n){g.hQ.call(this,"statevent",n)},mg=function(n){const q=DC();
q.dispatchEvent(new T$L(q,n))},lzL=function(n,q,M,t){g.hQ.call(this,"timingevent",n);
this.size=q;this.rtt=M;this.retries=t},$_=function(n,q){if(typeof n!=="function")throw Error("Fn must not be null and must be a function");
return g.NR.setTimeout(function(){n()},q)},FZ=function(){},ZC=function(n,q,M,t){this.Z=n;
this.J=q;this.Xh=M;this.QS=t||1;this.Nm=new g.ho(this);this.Ox=45E3;this.jX=null;this.D=!1;this.V=this.nm=this.O=this.aL=this.Q1=this.tE=this.xl=null;this.U=[];this.X=null;this.C=0;this.j=this.RL=null;this.Hb=-1;this.JE=!1;this.Dk=0;this.Gs=null;this.Bb=this.Fy=this.Ex=this.Wb=!1;this.W=new UuO},UuO=function(){this.W=null;
this.X="";this.Z=!1},aC=function(n,q,M){n.aL=1;
n.O=t6(q.clone());n.V=M;n.Wb=!0;uMs(n,null)},uMs=function(n,q){n.Q1=Date.now();
RC(n);n.nm=n.O.clone();c1(n.nm,"t",n.QS);n.C=0;const M=n.Z.aL;n.W=new UuO;n.X=B$n(n.Z,M?q:null,!n.V);n.Dk>0&&(n.Gs=new g.MJ((0,g.Ij)(n.Qt,n,n.X),n.Dk));n.Nm.listen(n.X,"readystatechange",n.XD);q=n.jX?g.xw(n.jX):{};n.V?(n.RL||(n.RL="POST"),q["Content-Type"]="application/x-www-form-urlencoded",n.X.send(n.nm,n.RL,n.V,q)):(n.RL="GET",n.X.send(n.nm,n.RL,null,q));A6(1)},ACS=function(n){if(!DuO(n))return g.Jd(n.X);
const q=g.Vx(n.X);if(q==="")return"";let M="";const t=q.length,c=g.oD(n.X)==4;if(!n.W.W){if(typeof TextDecoder==="undefined")return oC(n),wR(n),"";n.W.W=new g.NR.TextDecoder}for(let Y=0;Y<t;Y++)n.W.Z=!0,M+=n.W.W.decode(q[Y],{stream:!(c&&Y==t-1)});q.length=0;n.W.X+=M;n.C=0;return n.W.X},DuO=function(n){return n.X?n.RL=="GET"&&n.aL!=2&&n.Z.Hn:!1},$uO=function(n,q){var M=n.C,t=q.indexOf("\n",M);
if(t==-1)return z9;M=Number(q.substring(M,t));if(isNaN(M))return muG;t+=1;if(t+M>q.length)return z9;q=q.slice(t,t+M);n.C=t+M;return q},RC=function(n){n.tE=Date.now()+n.Ox;
FBS(n,n.Ox)},FBS=function(n,q){if(n.xl!=null)throw Error("WatchDog timer not null");
n.xl=$_((0,g.Ij)(n.xJ,n),q)},J6=function(n){n.xl&&(g.NR.clearTimeout(n.xl),n.xl=null)},wR=function(n){n.Z.cI()||n.JE||ZNS(n.Z,n)},oC=function(n){J6(n);
g.Hm(n.Gs);n.Gs=null;n.Nm.removeAll();if(n.X){const q=n.X;n.X=null;q.abort();q.dispose()}},Mz=function(n,q){try{var M=n.Z;
if(M.cH!=0&&(M.X==n||VF(M.W,n)))if(!n.Fy&&VF(M.W,n)&&M.cH==3){try{var t=M.TX.X.parse(q)}catch(b){t=null}if(Array.isArray(t)&&t.length==3){var c=t;if(c[0]==0)a:{if(!M.O){if(M.X)if(M.X.Q1+3E3<n.Q1)CG(M),rR(M);else break a;x_(M);mg(18)}}else M.Wn=c[1],0<M.Wn-M.Gs&&c[2]<37500&&M.Fy&&M.U==0&&!M.xl&&(M.xl=$_((0,g.Ij)(M.RR,M),6E3));if(QF(M.W)<=1&&M.Hb){try{M.Hb()}catch(b){}M.Hb=void 0}}else pG(M,11)}else if((n.Fy||M.X==n)&&CG(M),!g.K3(q))for(c=M.TX.X.parse(q),q=0;q<c.length;q++){let b=c[q];M.Gs=b[0];b=b[1];
if(M.cH==2)if(b[0]=="c"){M.J=b[1];M.Xh=b[2];const d=b[3];d!=null&&(M.ME=d);const N=b[5];N!=null&&typeof N==="number"&&N>0&&(M.Dk=1.5*N);t=M;const O=n.hL();if(O){const E=g.rE(O,"X-Client-Wire-Protocol");if(E){var Y=t.W;!Y.X&&(g.ku(E,"spdy")||g.ku(E,"quic")||g.ku(E,"h2"))&&(Y.J=Y.j,Y.X=new Set,Y.W&&(nJ(Y,Y.W),Y.W=null))}if(t.Wb){const y=g.rE(O,"X-HTTP-Session-Id");y&&(t.YQ=y,g.kd(t.jX,t.Wb,y))}}M.cH=3;M.j&&M.j.Z3();M.d7&&(M.qP=Date.now()-n.Q1);t=M;var G=n;t.s9=azG(t,t.aL?t.Xh:null,t.Gk);if(G.Fy){Rqw(t.W,
G);var K=G,k=t.Dk;k&&K.setTimeout(k);K.xl&&(J6(K),RC(K));t.X=G}else oOn(t);M.Z.length>0&&qz(M)}else b[0]!="stop"&&b[0]!="close"||pG(M,7);else M.cH==3&&(b[0]=="stop"||b[0]=="close"?b[0]=="stop"?pG(M,7):M.disconnect():b[0]!="noop"&&M.j&&M.j.u2(b),M.U=0)}A6(4)}catch(b){}},wVs=function(n){this.j=n||10;
g.NR.PerformanceNavigationTiming?(n=g.NR.performance.getEntriesByType("navigation"),n=n.length>0&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(g.NR.chrome&&g.NR.chrome.loadTimes&&g.NR.chrome.loadTimes()&&g.NR.chrome.loadTimes().wasFetchedViaSpdy);this.J=n?this.j:1;this.X=null;this.J>1&&(this.X=new Set);this.W=null;this.Z=[]},zqF=function(n){return n.W?!0:n.X?n.X.size>=n.J:!1},QF=function(n){return n.W?1:n.X?n.X.size:0},VF=function(n,q){return n.W?n.W==q:n.X?n.X.has(q):!1},nJ=function(n,
q){n.X?n.X.add(q):n.W=q},Rqw=function(n,q){n.W&&n.W==q?n.W=null:n.X&&n.X.has(q)&&n.X.delete(q)},iO=function(n){if(n.W!=null)return n.Z.concat(n.W.U);
if(n.X!=null&&n.X.size!==0){let q=n.Z;for(const M of n.X.values())q=q.concat(M.U);return q}return g.gT(n.Z)},JCO=function(n,q){const M=new FZ;
if(g.NR.Image){const t=new Image;t.onload=g.fa(tZ,M,"TestLoadImage: loaded",!0,q,t);t.onerror=g.fa(tZ,M,"TestLoadImage: error",!1,q,t);t.onabort=g.fa(tZ,M,"TestLoadImage: abort",!1,q,t);t.ontimeout=g.fa(tZ,M,"TestLoadImage: timeout",!1,q,t);g.NR.setTimeout(function(){if(t.ontimeout)t.ontimeout()},1E4);
t.src=n}else q(!1)},VyS=function(n,q){const M=new FZ,t=new AbortController,c=setTimeout(()=>{t.abort();
tZ(M,"TestPingServer: timeout",!1,q)},1E4);
fetch(n,{signal:t.signal}).then(Y=>{clearTimeout(c);Y.ok?tZ(M,"TestPingServer: ok",!0,q):tZ(M,"TestPingServer: server error",!1,q)}).catch(()=>{clearTimeout(c);
tZ(M,"TestPingServer: error",!1,q)})},tZ=function(n,q,M,t,c){try{c&&(c.onload=null,c.onerror=null,c.onabort=null,c.ontimeout=null),t(M)}catch(Y){}},CmD=function(){this.X=new cv},YI=function(n,q,M){return M&&M.GQ?M.GQ[n]||q:q},rCK=function(n){this.Z=[];
this.Xh=this.s9=this.jX=this.Gk=this.X=this.YQ=this.Wb=this.JE=this.C=this.Ex=this.V=null;this.iY=this.nm=0;this.X_=YI("failFast",!1,n);this.Fy=this.xl=this.O=this.D=this.j=null;this.Jq=!0;this.Wn=this.Gs=-1;this.QS=this.U=this.Q1=0;this.bz=YI("baseRetryDelayMs",5E3,n);this.mF=YI("retryDelaySeedMs",1E4,n);this.zU=YI("forwardChannelMaxRetries",2,n);this.Hg=YI("forwardChannelRequestTimeoutMs",2E4,n);this.o8=n&&n.RUE||void 0;this.Yy=n&&n.Eyl||void 0;this.Hn=n&&n.k01||!1;this.Dk=void 0;this.aL=n&&n.WY||
!1;this.J="";this.W=new wVs(n&&n.Odk);this.TX=new CmD;this.Nm=n&&n.R9m||!1;this.tE=n&&n.T7s||!1;this.Nm&&this.tE&&(this.tE=!1);this.OT=n&&n.DPk||!1;n&&n.uVJ&&(this.Jq=!1);this.d7=!this.Nm&&this.Jq&&n&&n.eHy||!1;this.Bg=void 0;n&&n.uv&&n.uv>0&&(this.Bg=n.uv);this.Hb=void 0;this.qP=0;this.Ox=!1;this.Bb=this.RL=null},rR=function(n){n.X&&(Gu(n),n.X.cancel(),n.X=null)},xuD=function(n){rR(n);
n.O&&(g.NR.clearTimeout(n.O),n.O=null);CG(n);n.W.cancel();n.D&&(typeof n.D==="number"&&g.NR.clearTimeout(n.D),n.D=null)},qz=function(n){zqF(n.W)||n.D||(n.D=!0,g.qb(n.Xk,n),n.Q1=0)},pVd=function(n,q){if(QF(n.W)>=n.W.J-(n.D?1:0))return!1;
if(n.D)return n.Z=q.U.concat(n.Z),!0;if(n.cH==1||n.cH==2||n.Q1>=(n.X_?0:n.zU))return!1;n.D=$_((0,g.Ij)(n.Xk,n,q),QVO(n,n.Q1));n.Q1++;return!0},qIF=function(n,q){var M;
q?M=q.Xh:M=n.nm++;const t=n.jX.clone();g.kd(t,"SID",n.J);g.kd(t,"RID",M);g.kd(t,"AID",n.Gs);KJ(n,t);n.C&&n.V&&g.Ek(t,n.C,n.V);M=new ZC(n,n.J,M,n.Q1+1);n.C===null&&(M.jX=n.V);q&&(n.Z=q.U.concat(n.Z));q=nrG(n,M,1E3);M.setTimeout(Math.round(n.Hg*.5)+Math.round(n.Hg*.5*Math.random()));nJ(n.W,M);aC(M,t,q)},KJ=function(n,q){n.JE&&g.TL(n.JE,function(M,t){g.kd(q,t,M)});
n.j&&g.TL({},function(M,t){g.kd(q,t,M)})},nrG=function(n,q,M){M=Math.min(n.Z.length,M);
const t=n.j?(0,g.Ij)(n.j.Wd,n.j,n):null;a:{var c=n.Z;let K=-1;for(;;){const k=["count="+M];K==-1?M>0?(K=c[0].X,k.push("ofs="+K)):K=0:k.push("ofs="+K);let b=!0;for(let d=0;d<M;d++){var Y=c[d].X;const N=c[d].map;Y-=K;if(Y<0)K=Math.max(0,c[d].X-100),b=!1;else try{Y="req"+Y+"_"||"";try{var G=N instanceof Map?N:Object.entries(N);for(const [O,E]of G){let y=E;g.Xm(E)&&(y=g.lM(E));k.push(Y+O+"="+encodeURIComponent(y))}}catch(O){throw k.push(Y+"type="+encodeURIComponent("_badmap")),O;}}catch(O){t&&t(N)}}if(b){G=
k.join("&");break a}}G=void 0}n=n.Z.splice(0,M);q.U=n;return G},oOn=function(n){n.X||n.O||(n.QS=1,g.qb(n.xn,n),n.U=0)},x_=function(n){if(n.X||n.O||n.U>=3)return!1;
n.QS++;n.O=$_((0,g.Ij)(n.xn,n),QVO(n,n.U));n.U++;return!0},Gu=function(n){n.RL!=null&&(g.NR.clearTimeout(n.RL),n.RL=null)},MND=function(n){n.X=new ZC(n,n.J,"rpc",n.QS);
n.C===null&&(n.X.jX=n.V);n.X.Dk=0;var q=n.s9.clone();g.kd(q,"RID","rpc");g.kd(q,"SID",n.J);g.kd(q,"AID",n.Gs);g.kd(q,"CI",n.Fy?"0":"1");!n.Fy&&n.Bg&&g.kd(q,"TO",n.Bg);g.kd(q,"TYPE","xmlhttp");KJ(n,q);n.C&&n.V&&g.Ek(q,n.C,n.V);n.Dk&&n.X.setTimeout(n.Dk);var M=n.X;n=n.Xh;M.aL=1;M.O=t6(q.clone());M.V=null;M.Wb=!0;uMs(M,n)},CG=function(n){n.xl!=null&&(g.NR.clearTimeout(n.xl),n.xl=null)},ZNS=function(n,q){var M=null;
if(n.X==q){CG(n);Gu(n);n.X=null;var t=2}else if(VF(n.W,q))M=q.U,Rqw(n.W,q),t=1;else return;if(n.cH!=0)if(q.D)if(t==1){M=q.V?q.V.length:0;q=Date.now()-q.Q1;var c=n.Q1;t=DC();t.dispatchEvent(new lzL(t,M,q,c));qz(n)}else oOn(n);else{var Y=q.Hb;c=q.getLastError();if(c==3||c==0&&Y>0||!(t==1&&pVd(n,q)||t==2&&x_(n)))switch(M&&M.length>0&&(q=n.W,q.Z=q.Z.concat(M)),c){case 1:pG(n,5);break;case 4:pG(n,10);break;case 3:pG(n,6);break;default:pG(n,2)}}},QVO=function(n,q){let M=n.bz+Math.floor(Math.random()*n.mF);
n.isActive()||(M*=2);return M*q},pG=function(n,q){if(q==2){var M=(0,g.Ij)(n.Fv,n),t=n.Yy;
const c=!t;t=new g.qw(t||"//www.google.com/images/cleardot.gif");g.NR.location&&g.NR.location.protocol=="http"||g.Mw(t,"https");t6(t);c?JCO(t.toString(),M):VyS(t.toString(),M)}else mg(2);n.cH=0;n.j&&n.j.WQ(q);iPK(n);xuD(n)},iPK=function(n){n.cH=0;
n.Bb=[];if(n.j){const q=iO(n.W);if(q.length!=0||n.Z.length!=0)g.eS(n.Bb,q),g.eS(n.Bb,n.Z),n.W.Z.length=0,g.gT(n.Z),n.Z.length=0;n.j.RJ()}},tNs=function(n){if(n.cH==0)return n.Bb;
let q=[];g.eS(q,iO(n.W));g.eS(q,n.Z);return q},azG=function(n,q,M){var t=g.bW(M);
t.X!=""?(q&&g.iW(t,q+"."+t.X),g.to(t,t.Z)):(t=g.NR.location,t=xhL(t.protocol,q?q+"."+t.hostname:t.hostname,+t.port,M));q=n.Wb;M=n.YQ;q&&M&&g.kd(t,q,M);g.kd(t,"VER",n.ME);KJ(n,t);return t},B$n=function(n,q,M){if(q&&!n.aL)throw Error("Can't create secondary domain capable XhrIo object.");
q=n.Hn&&!n.o8?new g.mX(new g.rY({Zj:M})):new g.mX(n.o8);q.C=n.aL;return q},cgO=function(){},YIA=function(){},bO=function(n,q){g.mR.call(this);
this.X=new rCK(q);this.D=n;this.W=q&&q.J8||null;n=q&&q.Z_||null;q&&q.PGt&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"});this.X.V=n;n=q&&q.lyl||null;q&&q.aX&&(n?n["X-WebChannel-Content-Type"]=q.aX:n={"X-WebChannel-Content-Type":q.aX});q&&q.sI&&(n?n["X-WebChannel-Client-Profile"]=q.sI:n={"X-WebChannel-Client-Profile":q.sI});this.X.Ex=n;(n=q&&q.qTd)&&!g.K3(n)&&(this.X.C=n);this.C=q&&q.WY||!1;this.j=q&&q.l6L||!1;(q=q&&q.jH)&&!g.K3(q)&&(this.X.Wb=q,g.RG(this.W,q)&&(n=this.W,
q in n&&delete n[q]));this.Z=new kI(this)},GNO=function(n){uH.call(this);
n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);const q=n.__sm__;q?this.data=(this.X=g.mK(q))?g.CQ(q,this.X):q:this.data=n},KMF=function(n){B1.call(this);
this.status=1;this.errorCode=n},kI=function(n){this.X=n},dx=function(n,q){this.J=n;
this.X=q},Nz=function(n,q){if(typeof n!=="function")throw Error("Fn must not be null and must be a function");
return g.NR.setTimeout(function(){n()},q)},gx=function(){On.dispatchEvent(new kNs)},eu=function(n,q,M,t){this.X=n;
this.J=q;this.C=M;this.D=t||1;this.W=45E3;this.Z=new g.ho(this);this.j=new g.gE;this.j.setInterval(250)},dfw=function(n,q,M){n.qJ=1;
n.qd=t6(q.clone());n.g6=M;n.Wb=!0;bPK(n,null)},En=function(n,q,M,t,c){n.qJ=1;
n.qd=t6(q.clone());n.g6=null;n.Wb=M;c&&(n.V9=!1);bPK(n,t)},bPK=function(n,q){n.Dh=Date.now();
hZ(n);n.G4=n.qd.clone();c1(n.G4,"t",n.D);n.rj=0;n.lr=n.X.Yj(n.X.Aw()?q:null);n.Oz>0&&(n.iO=new g.MJ((0,g.Ij)(n.wu,n,n.lr),n.Oz));n.Z.listen(n.lr,"readystatechange",n.Z0);q=n.d6?g.xw(n.d6):{};n.g6?(n.lO="POST",q["Content-Type"]="application/x-www-form-urlencoded",n.lr.send(n.G4,n.lO,n.g6,q)):(n.lO="GET",n.V9&&!g.h2&&(q.Connection="close"),n.lr.send(n.G4,n.lO,null,q));n.X.iM(1)},OPw=function(n,q){var M=n.rj,t=q.indexOf("\n",M);
if(t==-1)return Wv;M=Number(q.substring(M,t));if(isNaN(M))return NJF;t+=1;if(t+M>q.length)return Wv;q=q.slice(t,t+M);n.rj=t+M;return q},hZ=function(n){n.tV=Date.now()+n.W;
grG(n,n.W)},grG=function(n,q){if(n.IC!=null)throw Error("WatchDog timer not null");
n.IC=Nz((0,g.Ij)(n.uF,n),q)},emK=function(n){n.IC&&(g.NR.clearTimeout(n.IC),n.IC=null)},yH=function(n){n.X.cI()||n.lL||n.X.sz(n)},sn=function(n){emK(n);
g.Hm(n.iO);n.iO=null;n.j.stop();n.Z.removeAll();if(n.lr){const q=n.lr;n.lr=null;q.abort();q.dispose()}n.P1&&(n.P1=null)},ErF=function(n,q){try{n.X.JO(n,q),n.X.iM(4)}catch(M){}},WMs=function(n,q,M,t,c){if(t==0)M(!1);
else{var Y=c||0;t--;hmK(n,q,function(G){G?M(!0):g.NR.setTimeout(function(){WMs(n,q,M,t,Y)},Y)})}},hmK=function(n,q,M){const t=new Image;
t.onload=function(){try{XI(t),M(!0)}catch(c){}};
t.onerror=function(){try{XI(t),M(!1)}catch(c){}};
t.onabort=function(){try{XI(t),M(!1)}catch(c){}};
t.ontimeout=function(){try{XI(t),M(!1)}catch(c){}};
g.NR.setTimeout(function(){if(t.ontimeout)t.ontimeout()},q);
t.src=n},XI=function(n){n.onload=null;
n.onerror=null;n.onabort=null;n.ontimeout=null},ygF=function(n){this.X=n;
this.W=new cv},ssG=function(n){const q=ju(n.X,n.r3,"/mail/images/cleardot.gif");
t6(q);WMs(q.toString(),5E3,(0,g.Ij)(n.zC,n),3,2E3);n.iM(1)},IH=function(n){var q=n.X.D;
q!=null?(gx(),q?(gx(),Su(n.X,n,!1)):(gx(),Su(n.X,n,!0))):(n.xw=new eu(n),n.xw.d6=n.NQ,q=n.X,q=ju(q,q.Aw()?n.fg:null,n.Vo),gx(),c1(q,"TYPE","xmlhttp"),En(n.xw,q,!1,n.fg,!1))},fJ=function(n,q,M){this.X=1;
this.W=[];this.Z=[];this.j=new cv;this.V=n||null;this.D=q!=null?q:null;this.O=M||!1},XlF=function(n,q){this.X=n;
this.map=q;this.context=null},jss=function(n,q,M,t){g.hQ.call(this,"timingevent",n);
this.size=q;this.rtt=M;this.retries=t},SIs=function(n){g.hQ.call(this,"serverreachability",n)},ILD=function(n){n.w5(1,0);
n.Dp=ju(n,null,n.K2);Hv(n)},fLd=function(n){n.iD&&(n.iD.abort(),n.iD=null);
n.WH&&(n.WH.cancel(),n.WH=null);n.PO&&(g.NR.clearTimeout(n.PO),n.PO=null);LJ(n);n.rT&&(n.rT.cancel(),n.rT=null);n.wA&&(g.NR.clearTimeout(n.wA),n.wA=null)},Pv=function(n,q){if(n.X==0)throw Error("Invalid operation: sending map when state is closed");
n.W.push(new XlF(n.JK++,q));n.X!=2&&n.X!=3||Hv(n)},HPL=function(n){let q=0;
n.WH&&q++;n.rT&&q++;return q},Hv=function(n){n.rT||n.wA||(n.wA=Nz((0,g.Ij)(n.jJ,n),0),n.jn=0)},PzK=function(n,q){if(n.X==1){if(!q){n.m9=Math.floor(Math.random()*1E5);
q=n.m9++;const M=new eu(n,"",q);M.d6=n.Lb;const t=vv(n),c=n.Dp.clone();g.kd(c,"RID",q);g.kd(c,"CVER","1");Tu(n,c);dfw(M,c,t);n.rT=M;n.X=2}}else n.X==3&&(q?LMF(n,q):n.W.length==0||n.rT||LMF(n))},LMF=function(n,q){if(q)if(n.aO>6){n.W=n.Z.concat(n.W);
n.Z.length=0;var M=n.m9-1;q=vv(n)}else M=q.C,q=q.g6;else M=n.m9++,q=vv(n);const t=n.Dp.clone();g.kd(t,"SID",n.J);g.kd(t,"RID",M);g.kd(t,"AID",n.dG);Tu(n,t);M=new eu(n,n.J,M,n.jn+1);M.d6=n.Lb;M.setTimeout(1E4+Math.round(1E4*Math.random()));n.rT=M;dfw(M,t,q)},Tu=function(n,q){n.vH&&(n=n.vH.nJ())&&g.TL(n,function(M,t){g.kd(q,t,M)})},vv=function(n){const q=Math.min(n.W.length,1E3),M=["count="+q];
let t;n.aO>6&&q>0?(t=n.W[0].X,M.push("ofs="+t)):t=0;for(let c=0;c<q;c++){let Y=n.W[c].X;const G=n.W[c].map;Y=n.aO<=6?c:Y-t;try{g.TL(G,function(K,k){M.push("req"+Y+"_"+k+"="+encodeURIComponent(K))})}catch(K){M.push("req"+Y+"_type="+encodeURIComponent("_badmap"))}}n.Z=n.Z.concat(n.W.splice(0,q));
return M.join("&")},vrK=function(n){n.WH||n.PO||(n.C=1,n.PO=Nz((0,g.Ij)(n.Fk,n),0),n.FT=0)},lO=function(n){if(n.WH||n.PO||n.FT>=3)return!1;
n.C++;n.PO=Nz((0,g.Ij)(n.Fk,n),TJL(n,n.FT));n.FT++;return!0},Su=function(n,q,M){n.Gc=n.D==null?M:!n.D;
n.yq=q.Ce;n.O||ILD(n)},LJ=function(n){n.Sl!=null&&(g.NR.clearTimeout(n.Sl),n.Sl=null)},TJL=function(n,q){let M=5E3+Math.floor(Math.random()*1E4);
n.isActive()||(M*=2);return M*q},Un=function(n,q){if(q==2||q==9){var M=null;
n.vH&&(M=null);var t=(0,g.Ij)(n.Ij,n);M||(M=new g.qw("//www.google.com/images/cleardot.gif"),t6(M));hmK(M.toString(),1E4,t)}else gx();lLO(n,q)},lLO=function(n,q){n.X=0;
n.vH&&n.vH.du(q);Ufs(n);fLd(n)},Ufs=function(n){n.X=0;
n.yq=-1;if(n.vH)if(n.Z.length==0&&n.W.length==0)n.vH.H2();else{const q=g.gT(n.Z),M=g.gT(n.W);n.Z.length=0;n.W.length=0;n.vH.H2(q,M)}},ju=function(n,q,M){let t=g.bW(M);
if(t.X!="")q&&g.iW(t,q+"."+t.X),g.to(t,t.Z);else{const c=window.location;t=xhL(c.protocol,q?q+"."+c.hostname:c.hostname,+c.port,M)}n.Cp&&g.TL(n.Cp,function(c,Y){g.kd(t,Y,c)});
g.kd(t,"VER",n.aO);Tu(n,t);return t},uXL=function(){},BJQ=function(){this.X=[];
this.W=[]},DfK=function(n,q){this.action=n;
this.params=q||{}},uO=function(n,q){g.Pm.call(this);
this.X=new g.Ms(this.TW,0,this);g.L(this,this.X);this.ke=5E3;this.W=0;if(typeof n==="function")q&&(n=(0,g.Ij)(n,q));else if(n&&typeof n.handleEvent==="function")n=(0,g.Ij)(n.handleEvent,n);else throw Error("Invalid listener argument");this.Z=n},Bv=function(n,q,M=!1,t=()=>"",c=!1,Y=!1,G=!1,K=()=>g.Qa({}),k=!1,b,d=!1,N=!1,O=!1,E=!1){this.aL=n;
this.xl=q;this.D=new g.aN;this.W=new uO(this.tM,this);this.X=null;this.C=!1;this.V=null;this.Q1="";this.U=this.O=0;this.Z=[];this.Bb=M;this.Wb=t;this.j=Y;this.jX=K;this.JE=b;this.QS=G;this.RL=null;this.J=g.Qa();this.Xh=c;this.Ex=k;this.Nm=d;this.tE=N;this.Gk=O;this.Hb=E;this.Dk=new AgG;this.Fy=new mfK;this.Ox=new $fF;this.nm=new FMF;this.Gs=new ZPs;this.Jq=new aLK;this.d7=new Rms},orT=function(n,q,M,t,c){Db(n);
if(n.X){const Y=g.U("ID_TOKEN"),G=n.X.Lb||{};Y?G["x-youtube-identity-token"]=Y:delete G["x-youtube-identity-token"];n.X.Lb=G}AZ(n);t?(t.getState()!=3&&HPL(t)==0||t.getState(),n.X.connect(q,M,n.xl,t.J,t.dG)):c?n.X.connect(q,M,n.xl,c.sessionId,c.arrayId):n.X.connect(q,M,n.xl)},VNs=function(n,q){return n.Gk?!0:n.tE?Object.values(wld).includes(q):n.Nm?!Object.values(zmT).includes(q):n.Hb?Object.values(JgF).includes(q):!1},Czs=async function(n){try{await mn(n)}finally{var q=n.Z;
n.Z=[];var M=q;q=q.length;for(let t=0;t<q;++t)Pv(n.X,M[t]);$I(n);$I(n)}},$I=function(n){n.publish("handlerOpened");
n.Dk.X("BROWSER_CHANNEL")},Db=function(n){if(n.X){const q=n.Wb(),M=n.X.Lb||{};
q?M["x-youtube-lounge-xsrf-token"]=q:delete M["x-youtube-lounge-xsrf-token"];n.X.Lb=M}},mn=function(n){if(n.Ex)return g.Qa();
if(!n.QS)return rgS(n);n.RL===null&&(n.RL=rgS(n));return n.RL},rgS=function(n){return g.cC(n.jX().then(q=>{xfK(n,q)}).Z7(()=>{}),()=>{n.RL=null})},xfK=function(n,q){if(n.X){let M=n.X.Lb||{};
q&&Object.keys(q).length>0?M={...M,...q}:delete M.Authorization;n.X.Lb=M}},AZ=function(n){n.JE&&!n.j&&xfK(n,n.JE())},FI=function(n){this.scheme="https";
this.port=this.domain="";this.X="/api/lounge";this.W=!0;n=n||document.location.href;const q=Number(g.vl(n)[4]||null)||"";q&&(this.port=":"+q);this.domain=g.lz(n)||"";n=g.eL();n.search("MSIE")>=0&&(n=n.match(/MSIE ([\d.]+)/)[1],g.g0(n,"10.0")<0&&(this.W=!1))},Zb=function(n,q){let M=n.X;
n.W&&(M=n.scheme+"://"+n.domain+n.port+n.X);return g.as(M+q,{})},QsK=function(n){g.H2(n.channel,"m",()=>{n.D=3;
n.Z.reset();n.O=null;n.C=0;for(const q of n.U)n.channel&&n.channel.send(q);n.U=[];n.publish("webChannelOpened");n.jX.X("WEB_CHANNEL")});
g.H2(n.channel,"n",()=>{n.D=0;n.Z.isActive()||n.publish("webChannelClosed");const q=n.channel?.J().Z();q&&(n.U=[...q]);n.RL.X("WEB_CHANNEL")});
g.H2(n.channel,"p",q=>{const M=q.data;M[0]==="gracefulReconnect"?(n.Z.start(),n.channel&&n.channel.close()):n.publish("webChannelMessage",new DfK(M[0],M[1]));n.OC=q.statusCode;n.JE.X("WEB_CHANNEL")});
g.H2(n.channel,"o",()=>{n.OC===401||n.Z.start();n.publish("webChannelError");n.Wb.X("WEB_CHANNEL","")})},aH=function(n){const q=n.Q1();
q?n.J["x-youtube-lounge-xsrf-token"]=q:delete n.J["x-youtube-lounge-xsrf-token"]},MaF=function(n,q,M=()=>"",t,c){const Y=()=>new Bv(Zb(n,"/bc"),q,!1,M,t);
return g.QW("enable_mdx_web_channel_desktop")?new plD(()=>new nFK(Zb(n,"/wc"),q,M)):new qOD(Y,c)},YOn=function(){var n=iqQ;
taG();RH.push(n);cTw()},oH=function(n,q){taG();
const M=GnF(n,String(q));RH.length==0?K6O(M):(cTw(),g.Fm(RH,function(t){t(M)}))},wx=function(n){oH("CP",n)},taG=function(){RH||(RH=g.EJ("yt.mdx.remote.debug.handlers_")||[],g.OJ("yt.mdx.remote.debug.handlers_",RH))},K6O=function(n){const q=(zu+1)%50;
zu=q;JZ[q]=n;VH||(VH=q==49)},cTw=function(){var n=RH;
if(JZ[0]){var q=VH?zu:-1;do{q=(q+1)%50;const M=JZ[q];g.Fm(n,function(t){t(M)})}while(q!=zu);
JZ=Array(50);zu=-1;VH=!1}},GnF=function(n,q){let M=(Date.now()-knT)/1E3;
M.toFixed&&(M=M.toFixed(3));const t=[];t.push("[",M+"s","] ");t.push("[","yt.mdx.remote","] ");t.push(n+": "+q,"\n");return t.join("")},CJ=function(n){g.Sh.call(this);
this.D=n;this.screens=[]},bqS=function(n,q){const M=n.get(q.uuid)||n.get(q.id);
if(M)return n=M.name,M.id=q.id||M.id,M.name=q.name,M.token=q.token,M.uuid=q.uuid||M.uuid,M.name!=n;n.screens.push(q);return!0},d8F=function(n,q){let M=n.screens.length!=q.length;
n.screens=g.Zs(n.screens,function(c){return!!h6(q,c)});
const t=q.length;for(let c=0;c<t;c++)M=bqS(n,q[c])||M;return M},N4O=function(n,q){const M=n.screens.length;
n.screens=g.Zs(n.screens,function(t){return!(t||q?!t!=!q?0:t.id==q.id:1)});
return n.screens.length<M},xI=function(n){CJ.call(this,"LocalScreenService");
this.W=n;this.X=NaN;rx(this);this.info("Initializing with "+eD(this.screens))},Oqn=function(n){if(n.screens.length){const q=g.aj(n.screens,function(t){return t.id}),M=Zb(n.W,"/pairing/get_lounge_token_batch");
n.W.sendRequest("POST",M,{screen_ids:q.join(",")},(0,g.Ij)(n.XZ,n),(0,g.Ij)(n.x$,n))}},rx=function(n){if(g.QW("deprecate_pair_servlet_enabled"))return d8F(n,[]);
var q=G8O(ONS());q=g.Zs(q,function(M){return!M.uuid});
return d8F(n,q)},QH=function(n,q){eqA(g.aj(n.screens,cCK));
q&&gOG()},pJ=function(n){oH("OnlineScreenService",n)},nZ=function(n){isNaN(n.Z)||g.CM(n.Z);
n.Z=g.Jx((0,g.Ij)(n.C,n),n.J>0&&n.J<g.Hd()?2E4:1E4)},qr=function(n,q){a:if(Y_(q)!=Y_(n.X))var M=!1;
else{M=g.aG(q);var t=M.length;for(let c=0;c<t;++c)if(!n.X[M[c]]){M=!1;break a}M=!0}M||(pJ("Updated online screens: "+g.lM(n.X)),n.X=q,n.publish("screenChange"));gFA(n)},Mr=function(n,q,M){const t=Zb(n.j,"/pairing/get_screen_availability");
n.j.sendRequest("POST",t,{lounge_token:q.token},(0,g.Ij)(function(c){c=c.screens||[];const Y=c.length;for(let G=0;G<Y;++G)if(c[G].loungeToken==q.token){M(c[G].status=="online");return}M(!1)},n),(0,g.Ij)(function(){M(!1)},n))},gFA=function(n){n=g.aG(g.ln(n.X,function(q){return q}));
g.fQ(n);n.length?g.Sz("yt-remote-online-screen-ids",n.join(","),60):g.fB("yt-remote-online-screen-ids")},eFS=function(n){const q={};
g.Fm(n.D(),function(M){M.token?q[M.token]=M.id:this.SY("Requesting availability of screen w/o lounge token.")});
return q},i5=function(n,q=!1){CJ.call(this,"ScreenService");
this.J=n;this.C=q;this.X=this.W=null;this.Z=[];this.j={};EFL(this)},W6Q=function(n,q,M,t,c,Y){n.info("getAutomaticScreenByIds "+M+" / "+q);
M||(M=n.j[q]);const G=n.j_();let K=M?W1(G,M):null;M&&(n.C||K)||(K=W1(G,q));if(K){K.uuid=q;const k=tR(n,K);Mr(n.X,k,function(b){c(b?k:null)})}else M?hFs(n,M,(0,g.Ij)(function(k){const b=tR(this,new Nx({name:t,
screenId:M,loungeToken:k,dialId:q||""}));Mr(this.X,b,function(d){c(d?b:null)})},n),Y):c(null)},yTw=function(n,q){const M=n.screens.length;
for(let t=0;t<M;++t)if(n.screens[t].name==q)return n.screens[t];return null},syT=function(n,q,M){Mr(n.X,q,M)},hFs=function(n,q,M,t){n.info("requestLoungeToken_ for "+q);
const c={postParams:{screen_ids:q},method:"POST",context:n,onSuccess:function(Y,G){Y=G&&G.screens||[];Y[0]&&Y[0].screenId==q?M(Y[0].loungeToken):t(Error("Missing lounge token in token response"))},
onError:function(){t(Error("Request screen lounge token failed"))}};
g.tW(Zb(n.J,"/pairing/get_lounge_token_batch"),c)},XmQ=function(n){n.screens=n.W.j_();
var q=n.j;const M={};for(var t in q)M[q[t]]=t;q=n.screens.length;for(t=0;t<q;++t){const c=n.screens[t];c.uuid=M[c.id]||""}n.info("Updated manual screens: "+eD(n.screens))},EFL=function(n){cx(n);
n.W=new xI(n.J);n.W.subscribe("screenChange",(0,g.Ij)(n.ZP,n));XmQ(n);n.C||(n.Z=G8O(g.Ir("yt-remote-automatic-screen-cache")||[]));cx(n);n.info("Initializing automatic screens: "+eD(n.Z));n.X=new jyL(n.J,(0,g.Ij)(n.j_,n,!0));n.X.subscribe("screenChange",(0,g.Ij)(function(){this.publish("onlineScreenChange")},n))},tR=function(n,q){var M=n.get(q.id);
M?(M.uuid=q.uuid,q=M):((M=W1(n.Z,q.uuid))?(M.id=q.id,M.token=q.token,q=M):n.Z.push(q),n.C||SOw(n));cx(n);n.j[q.uuid]=q.id;g.Sz("yt-remote-device-id-map",n.j,31536E3);return q},SOw=function(n){n=g.Zs(n.Z,q=>q.idType!="shortLived");
g.Sz("yt-remote-automatic-screen-cache",g.aj(n,cCK))},cx=function(n){n.j=g.Ir("yt-remote-device-id-map")||{}},YS=function(n,q,M){g.Sh.call(this);
this.Wb=M;this.J=n;this.W=q;this.X=null},GI=function(n,q){n.X=q;
n.publish("sessionScreen",n.X)},InG=function(n,q){n.X&&(n.X.token=q,tR(n.J,n.X));
n.publish("sessionScreen",n.X)},KZ=function(n,q){oH(n.Wb,q)},HqO=function(n,q){g.CM(n.xl);
n.xl=0;q?n.config_.enableCastLoungeToken&&q.loungeToken?q.deviceId?n.X&&n.X.uuid==q.deviceId||(q.loungeTokenRefreshIntervalMs?fns(n,{name:n.W.friendlyName,screenId:q.screenId,loungeToken:q.loungeToken,dialId:q.deviceId,screenIdType:"shortLived"},q.loungeTokenRefreshIntervalMs):(g.St(Error(`No loungeTokenRefreshIntervalMs presents in mdxSessionStatusData: ${JSON.stringify(q)}.`)),kS(n,q.screenId))):(g.St(Error(`No device id presents in mdxSessionStatusData: ${JSON.stringify(q)}.`)),kS(n,q.screenId)):
kS(n,q.screenId):n.Be(Error("Waiting for session status timed out."))},L6d=function(n){g.CM(n.V);
n.V=0;g.CM(n.C);n.C=0;g.CM(n.xl);n.xl=0;g.CM(n.j);n.j=0;g.CM(n.O);n.O=0},PjS=function(n,q){n.info("sendYoutubeMessage_: "+q+" "+g.lM());
const M={};M.type=q;n.Z?n.Z.sendMessage("urn:x-cast:com.google.youtube.mdx",M,()=>{},(0,g.Ij)(function(){KZ(this,"Failed to send message: "+q+".")},n)):KZ(n,"Sending yt message without session: "+g.lM(M))},T4w=function(n){PjS(n,"getLoungeToken");
g.CM(n.j);n.j=g.Jx(()=>{vFd(n,null)},3E4)},b5=function(n,q){g.CM(n.O);
n.O=0;q==0?T4w(n):n.O=g.Jx(()=>{T4w(n)},q)},vFd=function(n,q){g.CM(n.j);
n.j=0;let M=null;q?q.loungeToken?n.X?.token==q.loungeToken&&(M="staleLoungeToken"):M="missingLoungeToken":M="noLoungeTokenResponse";M?(n.info("Did not receive a new lounge token in onLoungeToken_ with "+`data: ${JSON.stringify(q)}, error: ${M}`),b5(n,3E4)):(InG(n,q.loungeToken),b5(n,q.loungeTokenRefreshIntervalMs))},kS=function(n,q){q?(n.info("onConnectedScreenId_: Received screenId: "+q),n.X&&n.X.id==q||n.JE(q,M=>{GI(n,M)},()=>n.Be(),5)):n.Be(Error("Waiting for session status timed out."))},lnQ=
function(n,q,M,t){g.CM(n.C);
n.C=0;syT(n.J,q,c=>{c||t<0?M(c):n.C=g.Jx(()=>{lnQ(n,q,M,t-1)},300)})},fns=function(n,q,M){n.info(`onConnectedScreenData_: Received screenData: ${JSON.stringify(q)}`);
const t=new Nx(q);lnQ(n,t,c=>{c?(tR(n.J,t),GI(n,t),b5(n,M)):(g.St(Error(`CastSession, RemoteScreen from screenData: ${JSON.stringify(q)} is not online.`)),n.Be())},5)},da=function(n){return new Promise(q=>{n.Q1=EB();
if(n.jX){const M=new chrome.cast.DialLaunchResponse(!0,U8s(n));q(M);ubF(n)}else n.U=()=>{g.CM(n.xl);n.U=()=>{};
n.xl=NaN;const M=new chrome.cast.DialLaunchResponse(!0,U8s(n));q(M);ubF(n)},n.xl=g.Jx(()=>{n.U()},100)})},B4S=function(n){g.CM(n.C);
n.C=0;g.CM(n.O);n.O=0;n.j();n.j=()=>{};
g.CM(n.xl)},Nr=function(n){return!(!n.config_.enableDialLoungeToken||!n.Z?.getDialAppInfo)},Os=function(n,q){n.info(`getDialAppInfoWithTimeout_ ${q}`);
Nr(n)&&(g.CM(n.O),n.O=0,q==0?D8w(n):n.O=g.Jx(()=>{D8w(n)},q))},ubF=function(n){n.j=n.J.l2(n.Q1,n.W.label,n.W.friendlyName,Nr(n),(q,M)=>{n.j=()=>{};
GI(n,q);q.idType=="shortLived"&&M>0&&Os(n,M)},q=>{n.j=()=>{};
n.Be(q)})},U8s=function(n){var q={};
q.pairingCode=n.Q1;q.theme=n.aL;hqO()&&(q.env_useStageMdx=1);return g.ZL(q)},ATs=function(n,q){const M=n.V.receiver.label,t=n.W.friendlyName;
return(new Promise(c=>{W6Q(n.J,M,q,t,Y=>{Y&&Y.token&&GI(n,Y);c(Y)},Y=>{KZ(n,"Failed to get DIAL screen: "+Y);
c(null)})})).then(c=>c&&c.token?new chrome.cast.DialLaunchResponse(!1):da(n))},$8n=function(n,q,M){n.info(`initOnConnectedScreenDataPromise_: Received screenData: ${JSON.stringify(q)}`);
const t=new Nx(q);return(new Promise(c=>{m8Q(n,t,Y=>{Y?(tR(n.J,t),GI(n,t),Os(n,M)):g.St(Error(`DialSession, RemoteScreen from screenData: ${JSON.stringify(q)} is not online.`));c(Y)},5)})).then(c=>c?new chrome.cast.DialLaunchResponse(!1):da(n))},m8Q=function(n,q,M,t){g.CM(n.C);
n.C=0;syT(n.J,q,c=>{c||t<0?M(c):n.C=g.Jx(()=>{m8Q(n,q,M,t-1)},300)})},D8w=function(n){Nr(n)&&n.Z.getDialAppInfo(q=>{n.info(`getDialAppInfo dialLaunchData: ${JSON.stringify(q)}`);
q=q.extraData||{};let M=null;q.loungeToken?n.X?.token==q.loungeToken&&(M="staleLoungeToken"):M="missingLoungeToken";M?Os(n,3E4):(InG(n,q.loungeToken),Os(n,q.loungeTokenRefreshIntervalMs))},q=>{n.info(`getDialAppInfo error: ${q}`);
Os(n,3E4)})},iqQ=function(n){window.chrome&&chrome.cast&&chrome.cast.logMessage&&chrome.cast.logMessage(n)},ZqK=function(n){const q=n.W.qE();
let M=n.X&&n.X.W;n=g.aj(q,function(t){M&&OB(t,M.label)&&(M=null);const c=t.uuid?t.uuid:t.id;let Y=F6O(this,t);Y?(Y.label=c,Y.friendlyName=t.name):(Y=new chrome.cast.Receiver(c,t.name),Y.receiverType=chrome.cast.ReceiverType.CUSTOM);return Y},n);
M&&(M.receiverType!=chrome.cast.ReceiverType.CUSTOM&&(M=new chrome.cast.Receiver(M.label,M.friendlyName),M.receiverType=chrome.cast.ReceiverType.CUSTOM),n.push(M));return n},eM=function(n){return n.O||!!n.Z.length||!!n.X},Es=function(n){oH("Controller",n)},hR=function(n,q,M){q!=n.X&&(g.Hm(n.X),(n.X=q)?(M?n.publish("yt-remote-cast2-receiver-resumed",q.W):n.publish("yt-remote-cast2-receiver-selected",q.W),q.subscribe("sessionScreen",(0,g.Ij)(n.xl,n,q)),q.subscribe("sessionFailed",()=>anD(n,q)),q.X?
n.publish("yt-remote-cast2-session-change",q.X):M&&n.X.D(null)):n.publish("yt-remote-cast2-session-change",null))},F6O=function(n,q){return q?g.V1(n.Z,function(M){return OB(q,M.label)},n):null},anD=function(n,q){n.X==q&&n.publish("yt-remote-cast2-session-failed")},Van=function(n,q,M,t){t.disableCastApi?Wx("Cannot initialize because disabled by Mdx config."):RFd()?oFs(q,t)&&(yk(!0),window.chrome&&chrome.cast&&chrome.cast.isAvailable?wmT(n,M):(window.__onGCastApiAvailable=function(c,Y){c?wmT(n,M):(Xo("Failed to load cast API: "+
Y),jM(!1),yk(!1),g.fB("yt-remote-cast-available"),g.fB("yt-remote-cast-receiver"),zFF(),M(!1))},t.loadCastApiSetupScript?g.l8(JTn):window.navigator.userAgent.indexOf("Android")>=0&&window.navigator.userAgent.indexOf("Chrome/")>=0&&window.navigator.presentation?P1()>=60&&fzG():!window.chrome||!window.navigator.presentation||window.navigator.userAgent.indexOf("Edge")>=0?T9():P1()>=89?LBS():(lH(),v1(HNs.map(jVA))))):Wx("Cannot initialize because not running Chrome")},zFF=function(){Wx("dispose");
const n=SM();n&&n.dispose();g.OJ("yt.mdx.remote.cloudview.instance_",null);Cjw(!1);g.v4(I3);I3.length=0},fZ=function(){return!!g.Ir("yt-remote-cast-installed")},rTs=function(){const n=g.Ir("yt-remote-cast-receiver");
return n?n.friendlyName:null},x8s=function(){Wx("clearCurrentReceiver");
g.fB("yt-remote-cast-receiver")},QyS=function(){return fZ()?SM()?SM().getCastSession():(Xo("getCastSelector: Cast is not initialized."),null):(Xo("getCastSelector: Cast API is not installed!"),null)},LZ=function(){fZ()?SM()?Hx()?(Wx("Requesting cast selector."),SM().requestSession()):(Wx("Wait for cast API to be ready to request the session."),I3.push(g.P4("yt-remote-cast2-api-ready",LZ))):Xo("requestCastSelector: Cast is not initialized."):Xo("requestCastSelector: Cast API is not installed!")},Px=
function(n,q){Hx()?SM().setConnectedScreenStatus(n,q):Xo("setConnectedScreenStatus called before ready.")},RFd=function(){var n=g.eL().search(/ (CrMo|Chrome|CriOS)\//)>=0;
return g.Yo||n},pmO=function(n,q){SM().init(n,q)},oFs=function(n,q){let M=!1;
SM()||(n=new vx(n,q),n.subscribe("yt-remote-cast2-availability-change",function(t){g.Sz("yt-remote-cast-available",t);fG("yt-remote-cast2-availability-change",t)}),n.subscribe("yt-remote-cast2-receiver-selected",function(t){Wx("onReceiverSelected: "+t.friendlyName);
g.Sz("yt-remote-cast-receiver",t);fG("yt-remote-cast2-receiver-selected",t)}),n.subscribe("yt-remote-cast2-receiver-resumed",function(t){Wx("onReceiverResumed: "+t.friendlyName);
g.Sz("yt-remote-cast-receiver",t);fG("yt-remote-cast2-receiver-resumed",t)}),n.subscribe("yt-remote-cast2-session-change",function(t){Wx("onSessionChange: "+gR(t));
t||g.fB("yt-remote-cast-receiver");fG("yt-remote-cast2-session-change",t)}),g.OJ("yt.mdx.remote.cloudview.instance_",n),M=!0);
Wx("cloudview.createSingleton_: "+M);return M},SM=function(){return g.EJ("yt.mdx.remote.cloudview.instance_")},wmT=function(n,q){jM(!0);
yk(!1);pmO(n,function(M){M?(Cjw(!0),g.T2("yt-remote-cast2-api-ready")):(Xo("Failed to initialize cast API."),jM(!1),g.fB("yt-remote-cast-available"),g.fB("yt-remote-cast-receiver"),zFF());q(M)})},Wx=function(n){oH("cloudview",n)},Xo=function(n){oH("cloudview",n)},jM=function(n){Wx("setCastInstalled_ "+n);
g.Sz("yt-remote-cast-installed",n)},Hx=function(){return!!g.EJ("yt.mdx.remote.cloudview.apiReady_")},Cjw=function(n){Wx("setApiReady_ "+n);
g.OJ("yt.mdx.remote.cloudview.apiReady_",n)},yk=function(n){g.OJ("yt.mdx.remote.cloudview.initializing_",n)},TI=function(n){this.index=-1;
this.videoId=this.listId="";this.volume=this.playerState=-1;this.muted=!1;this.audioTrackId=null;this.j=this.D=0;this.trackData=null;this.S_=this.fR=!1;this.O=this.Z=this.C=this.W=0;this.X=NaN;this.J=!1;this.reset(n)},l5=function(n){n.audioTrackId=null;
n.trackData=null;n.playerState=-1;n.fR=!1;n.S_=!1;n.D=0;n.j=g.Hd();n.W=0;n.C=0;n.Z=0;n.O=0;n.X=NaN;n.J=!1},Us=function(n){return n.isPlaying()?(g.Hd()-n.j)/1E3:0},u5=function(n,q){n.D=q;
n.j=g.Hd()},Bx=function(n){switch(n.playerState){case 1:case 1081:return(g.Hd()-n.j)/1E3+n.D;
case -1E3:return 0}return n.D},nbn=function(n){return n.J?n.C+Us(n):n.C},DM=function(n,q,M){const t=n.videoId;
n.videoId=q;n.index=M;q!=t&&l5(n)},AR=function(n){const q={};
q.index=n.index;q.listId=n.listId;q.videoId=n.videoId;q.playerState=n.playerState;q.volume=n.volume;q.muted=n.muted;q.audioTrackId=n.audioTrackId;q.trackData=g.Qs(n.trackData);q.hasPrevious=n.fR;q.hasNext=n.S_;q.playerTime=n.D;q.playerTimeAt=n.j;q.seekableStart=n.W;q.seekableEnd=n.C;q.duration=n.Z;q.loadedTime=n.O;q.liveIngestionTime=n.X;return q},qZQ=function(n){g.Fm("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange multiStateLoopEnabled loopModeChange".split(" "),
function(q){this.C.push(this.J.subscribe(q,g.fa(this.Fy,q),this))},n)},mL=function(n,q){n.W&&(n.W.removeUpdateListener(n.U),n.W.removeMediaListener(n.V),n.D(null));
n.W=q;n.W&&(wx("Setting cast session: "+n.W.sessionId),n.W.addUpdateListener(n.U),n.W.addMediaListener(n.V),n.W.media.length&&n.D(n.W.media[0]))},$S=function(n){return new TI(n.J.getPlayerContextData())},Fo=function(n){return n.getState()==1},a3=function(n,q,M){return(0,g.Ij)(function(t){this.SY("Failed to "+q+" with cast v2 channel. Error code: "+t.code);
t.code!=chrome.cast.ErrorCode.TIMEOUT&&(this.SY("Retrying "+q+" using MDx browser channel."),ZM(this,q,M))},n)},ZM=function(n,q,M){n.J.sendMessage(q,M)},o3=function(n,q,M){const t=$S(n);
u5(t,M);t.playerState!=-1E3&&(t.playerState=q);R3(n,t)},wa=function(n,q){var M=n.j;
M.X.length+M.W.length<50&&n.j.enqueue(q)},R3=function(n,q){MZA(n);
n.J.setPlayerContextData(AR(q));qZQ(n)},MZA=function(n){g.Fm(n.C,function(q){this.J.unsubscribeByKey(q)},n);
n.C.length=0},iCT=function(n){const q=n.X.media,M=n.X.customData;
if(q&&M){var t=$S(n);q.contentId!=t.videoId&&wx("Cast changing video to: "+q.contentId);t.videoId=q.contentId;t.playerState=M.playerState;u5(t,n.X.getEstimatedTime());R3(n,t)}else wx("No cast media video. Ignoring state update.")},tZd=function(n){zI("Channel opened");
n.JE&&(n.JE=!1,JR(n),n.Wb=g.Jx(()=>{zI("Timing out waiting for a screen.");n.C(1)},15E3))},Ebw=function(n,q){q=q.message;
q.params?zI("Received: action="+q.action+", params="+g.lM(q.params)):zI("Received: action="+q.action+" {}");switch(q.action){case "loungeStatus":q=G9(q.params.devices);n.Z=g.aj(q,function(t){return new dR(t)});
q=!!g.V1(n.Z,function(t){return t.type=="LOUNGE_SCREEN"});
cts(n,q);q=n.nm("mlm");n.publish("multiStateLoopEnabled",q);break;case "loungeScreenDisconnected":g.GL(n.Z,function(t){return t.type=="LOUNGE_SCREEN"});
cts(n,!1);break;case "remoteConnected":let M=new dR(G9(q.params.device));g.V1(n.Z,function(t){return t.equals(M)})||CAL(n.Z,M);
break;case "remoteDisconnected":M=new dR(G9(q.params.device));g.GL(n.Z,function(t){return t.equals(M)});
break;case "gracefulDisconnect":break;case "playlistModified":YZA(n,q,"QUEUE_MODIFIED");break;case "nowPlaying":GvS(n,q);break;case "onStateChange":KJn(n,q);break;case "onAdStateChange":kvd(n,q);break;case "onVolumeChanged":bCD(n,q);break;case "onSubtitlesTrackChanged":dOs(n,q);break;case "nowAutoplaying":NlO(n,q);break;case "autoplayDismissed":n.publish("autoplayDismissed");break;case "autoplayUpNext":OCd(n,q);break;case "onAutoplayModeChanged":gbS(n,q);break;case "onHasPreviousNextChanged":ewQ(n,
q);break;case "requestAssistedSignIn":n.publish("assistedSignInRequested",q.params.authCode);break;case "onLoopModeChanged":n.publish("loopModeChange",q.params.loopMode);break;default:zI("Unrecognized action: "+q.action)}},zI=function(n){oH("conn",n)},hwF=function(n){n.D=g.Jx(()=>{zI("Connecting timeout");
n.C(1)},2E4)},Vk=function(n,q){n.publish("proxyStateChange",q)},CZ=function(n){g.CM(n.D);
n.D=NaN},ra=function(n){g.CM(n.RL);
n.RL=NaN},JR=function(n){g.CM(n.Wb);
n.Wb=NaN},WJK=function(n){return g.V1(n.Z,function(q){return q.type=="LOUNGE_SCREEN"})},xS=function(n,q,M){M?zI("Sending: action="+q+", params="+g.lM(M)):zI("Sending: action="+q);
n.W.sendMessage(q,M)},ytO=function(n){ra(n);
n.RL=g.Jx(()=>{xS(n,"getNowPlaying")},2E4)},sqS=function(n){g.CM(n.U);
n.U=g.Jx(()=>{n.C(1)},864E5)},cts=function(n,q){var M=null;
if(q){const t=WJK(n);t&&(M={clientName:t.clientName,deviceMake:t.brand,deviceModel:t.model,osVersion:t.osVersion})}g.OJ("yt.mdx.remote.remoteClient_",M);q&&(CZ(n),JR(n));M=n.W.Pj()&&isNaN(n.D);q==M?q&&(Vk(n,1),xS(n,"getSubtitlesTrack")):q?(n.Gs()&&n.X.reset(),Vk(n,1),xS(n,"getNowPlaying"),sqS(n)):n.C(1)},dOs=function(n,q){const M=q.params.videoId;
delete q.params.videoId;M==n.X.videoId&&(g.JF(q.params)?n.X.trackData=null:n.X.trackData=q.params,n.publish("remotePlayerChange"))},YZA=function(n,q,M){const t=q.params.videoId||q.params.video_id,c=parseInt(q.params.currentIndex,10);
n.X.listId=q.params.listId||n.X.listId;DM(n.X,t,c);n.publish("remoteQueueChange",M)},KJn=function(n,q){var M=parseInt(q.params.currentTime||q.params.current_time,10);
u5(n.X,isNaN(M)?0:M);M=parseInt(q.params.state,10);M=isNaN(M)?-1:M;M==-1&&n.X.playerState==-1E3&&(M=-1E3);n.X.playerState=M;M=Number(q.params.loadedTime);n.X.O=isNaN(M)?0:M;n.X.nL(Number(q.params.duration));M=n.X;var t=Number(q.params.liveIngestionTime);M.X=t;M.J=isNaN(t)?!1:!0;M=n.X;t=Number(q.params.seekableStartTime);q=Number(q.params.seekableEndTime);M.W=isNaN(t)?0:t;M.C=isNaN(q)?0:q;n.X.playerState==1?ytO(n):ra(n);n.publish("remotePlayerChange")},GvS=function(n,q){q.params=q.params||{};
YZA(n,q,"NOW_PLAYING_MAY_CHANGE");KJn(n,q);n.publish("autoplayDismissed")},kvd=function(n,q){if(n.X.playerState!=-1E3){var M=1085;
switch(parseInt(q.params.adState,10)){case 1:M=1081;break;case 2:M=1084;break;case 0:M=1083}n.X.playerState=M;q=parseInt(q.params.currentTime,10);u5(n.X,isNaN(q)?0:q);n.publish("remotePlayerChange")}},bCD=function(n,q){const M=q.params.muted=="true";
n.X.volume=parseInt(q.params.volume,10);n.X.muted=M;n.publish("remotePlayerChange")},NlO=function(n,q){n.O=q.params.videoId;
n.publish("nowAutoplaying",parseInt(q.params.timeout,10))},OCd=function(n,q){n.O=q.params.videoId||null;
n.publish("autoplayUpNext",n.O)},gbS=function(n,q){n.j=q.params.autoplayMode;
n.publish("autoplayModeChange",n.j);n.j=="DISABLED"&&n.publish("autoplayDismissed")},ewQ=function(n,q){const M=q.params.hasNext=="true";
n.X.fR=q.params.hasPrevious=="true";n.X.S_=M;n.publish("previousNextChange")},I8s=function(n,q){EOO();
if(!IC||!IC.get("yt-remote-disable-remote-module-for-dev")){q=g.U("MDX_CONFIG")||q;k8D();jD();Qk||(Qk=new FI(q?q.loungeApiHost:void 0),hqO()&&(Qk.X="/api/loungedev"));pZ||(pZ=g.EJ("yt.mdx.remote.deferredProxies_")||[],g.OJ("yt.mdx.remote.deferredProxies_",pZ));XLK();var M=n2();if(!M){const c=new i5(Qk,q?q.disableAutomaticScreenCache||!1:!1);g.OJ("yt.mdx.remote.screenService_",c);M=n2();var t={};q&&(t={appId:q.appId,disableDial:q.disableDial,theme:q.theme,loadCastApiSetupScript:q.loadCastApiSetupScript,
disableCastApi:q.disableCastApi,enableDialLoungeToken:q.enableDialLoungeToken,enableCastLoungeToken:q.enableCastLoungeToken,forceMirroring:q.forceMirroring});g.OJ("yt.mdx.remote.enableConnectWithInitialState_",q?q.enableConnectWithInitialState||!1:!1);Van(n,c,function(Y){Y?qg()&&Px(qg(),"YouTube TV"):c.subscribe("onlineScreenChange",function(){fG("yt-remote-receiver-availability-change")})},t)}q&&!g.EJ("yt.mdx.remote.initialized_")&&(g.OJ("yt.mdx.remote.initialized_",!0),Mg("Initializing: "+g.lM(q)),
iF.push(g.P4("yt-remote-cast2-api-ready",function(){fG("yt-remote-api-ready")})),iF.push(g.P4("yt-remote-cast2-availability-change",function(){fG("yt-remote-receiver-availability-change")})),iF.push(g.P4("yt-remote-cast2-receiver-selected",function(){tD(null);
fG("yt-remote-auto-connect","cast-selector-receiver")})),iF.push(g.P4("yt-remote-cast2-receiver-resumed",function(){fG("yt-remote-receiver-resumed","cast-selector-receiver")})),iF.push(g.P4("yt-remote-cast2-session-change",jqs)),iF.push(g.P4("yt-remote-connection-change",function(c){c?Px(qg(),"YouTube TV"):cw()||(Px(null,null),x8s())})),iF.push(g.P4("yt-remote-cast2-session-failed",()=>{fG("yt-remote-connection-failed")})),n=Yf(),q.isAuto&&(n.id+="#dial"),t=q.capabilities||[],t.length>0&&(n.capabilities=
t),n.name=q.device,n.app=q.app,(q=q.theme)&&(n.theme=q),Mg(" -- with channel params: "+g.lM(n)),n?(g.Sz("yt-remote-session-app",n.app),g.Sz("yt-remote-session-name",n.name)):(g.fB("yt-remote-session-app"),g.fB("yt-remote-session-name")),g.OJ("yt.mdx.remote.channelParams_",n),M.start(),qg()||SZF())}},f8G=function(){var n=n2().ac.$_gos();
const q=Gh();q&&K2()&&(h6(n,q)||n.push(q));return KBd(n)},kf=function(){let n=HCw();
!n&&fZ()&&rTs()&&(n={key:"cast-selector-receiver",name:rTs()});return n},HCw=function(){const n=f8G();
let q=Gh();q||(q=cw());return g.V1(n,function(M){return q&&OB(q,M.key)?!0:!1})},Gh=function(){const n=qg();
if(!n)return null;const q=n2().j_();return W1(q,n)},jqs=function(n){Mg("remote.onCastSessionChange_: "+gR(n));
if(n){var q=Gh();if(q&&q.id==n.id){if(Px(q.id,"YouTube TV"),n.idType=="shortLived"&&(n=n.token))bF&&(bF.token=n),(q=K2())&&q.E3(n)}else q&&d7(),Ng(n,1)}else K2()&&d7()},d7=function(){Hx()?SM().stopSession():Xo("stopSession called before API ready.");
const n=K2();n&&(n.disconnect(1),Oj(null))},g7=function(){const n=K2();
return!!n&&n.getProxyState()!=3},Mg=function(n){oH("remote",n)},n2=function(){if(!ev){const n=g.EJ("yt.mdx.remote.screenService_");
ev=n?new LJd(n):null}return ev},qg=function(){return g.EJ("yt.mdx.remote.currentScreenId_")},P9S=function(n){g.OJ("yt.mdx.remote.currentScreenId_",n)},vbF=function(){return g.EJ("yt.mdx.remote.connectData_")},tD=function(n){g.OJ("yt.mdx.remote.connectData_",n)},K2=function(){return g.EJ("yt.mdx.remote.connection_")},Oj=function(n){const q=K2();
tD(null);n||P9S("");g.OJ("yt.mdx.remote.connection_",n);pZ&&(g.Fm(pZ,function(M){M(n)}),pZ.length=0);
q&&!n?fG("yt-remote-connection-change",!1):!q&&n&&fG("yt-remote-connection-change",!0)},cw=function(){const n=g.Hh();
if(!n)return null;var q=n2();if(!q)return null;q=q.j_();return W1(q,n)},Ng=function(n,q){qg();
Gh()&&Gh();if(Ej)bF=n;else{P9S(n.id);var M=g.EJ("yt.mdx.remote.enableConnectWithInitialState_")||!1;n=new hD(n,M);n.connect(q,vbF());n.subscribe("beforeDisconnect",function(t){fG("yt-remote-before-disconnect",t)});
n.subscribe("beforeDispose",function(){K2()&&(K2(),Oj(null))});
n.subscribe("browserChannelAuthError",()=>{const t=Gh();t&&t.idType=="shortLived"&&(Hx()?SM().handleBrowserChannelAuthError():Xo("refreshLoungeToken called before API ready."))});
Oj(n)}},SZF=function(){const n=cw();
n?(Mg("Resume connection to: "+gR(n)),Ng(n,0)):(SD(),x8s(),Mg("Skipping connecting because no session screen found."))},XLK=function(){var n=Yf();
if(g.JF(n)){n=XZ();var q=g.Ir("yt-remote-session-name")||"";const M=g.Ir("yt-remote-session-app")||"";n={device:"REMOTE_CONTROL",id:n,name:q,app:M,mdxVersion:3};n.authuser=String(g.U("SESSION_INDEX","0"));(q=g.U("DELEGATED_SESSION_ID"))&&(n.pageId=String(q));g.OJ("yt.mdx.remote.channelParams_",n)}},Yf=function(){return g.EJ("yt.mdx.remote.channelParams_")||{}},TlF=function(n,q){if(Ww(n)){n.cg.unsubscribe("remotePlayerChange",n.j,n);
const M=Math.round(q.volume);q=!!q.muted;const t=$S(n.cg);if(M!==t.volume||q!==t.muted)n.cg.setVolume(M,q),n.U.start();n.cg.subscribe("remotePlayerChange",n.j,n)}},Ww=function(n){return $S(n.cg).videoId===n.G.getVideoData(1).videoId},y4=function(n,q){let M,t;
var c=n.G.getPlaylist();c?.listId&&(M=c.index,t=c.listId.toString());c=n.G.getVideoData(1);n.cg.playVideo(c.videoId,q,M,t,c.playerParams,c.Fy,VTG(c));n.JQ(new g.tU(1))},sj=function(n,q){if(Ww(n)&&!n.D){let M=null;
q&&(M={style:n.G.getSubtitlesUserSettings()},Object.assign(M,q));n.cg.O(n.G.getVideoData(1).videoId,M);n.J=$S(n.cg).trackData}},l8Q=function(n,q){if(q){const M=n.G.getOption("captions","tracklist",{rr:1});
M&&M.length?(n.G.setOption("captions","track",q),n.D=!1):(n.G.loadModule("captions"),n.D=!0)}else n.G.setOption("captions","track",{})},UOF=function(n){n.tQ(0);
n.W.stop();n.JQ(new g.tU(64))},u7Q=function(n){const q=n.player.T();
return!q.A("mdx_enable_privacy_disclosure_ui")||n.isLoggedIn()||n.k7||!n.zT?!1:g.o$(q)||g.JG(q)},BlA=function(n,q,M){n.QA=M;
n.player.publish("presentingplayerstatechange",new g.Wt(M,q))},Xn=function(n,q,...M){n.loaded&&n.eK.P_(q,...M)},jv=function(n){n.vW&&(n.player.removeEventListener("presentingplayerstatechange",n.vW),n.vW=null)},Sv=function(n,q){if(q.key!==n.n3.key)if(q.key===n.h2.key)d7();
else if(u7Q(n)&&DOD(n),n.n3=q,!g.Nt(n.player.T())){{const Y=n.player.getPlaylistId();var M=n.player.getVideoData(1);const G=M.videoId;if(!Y&&!G||(n.player.getAppState()===2||n.player.getAppState()===1)&&n.player.T().A("should_clear_video_data_on_player_cued_unstarted"))M=null;else{var t=n.player.getPlaylist();if(t){var c=[];for(let K=0;K<t.length;K++)c[K]=g.l1(t,K).videoId}else c=[G];t=n.player.getCurrentTime(1);n={videoIds:c,listId:Y,videoId:G,playerParams:M.playerParams,clickTrackingParams:M.Fy,
index:Math.max(n.player.getPlaylistIndex(),0),currentTime:t===0?void 0:t};(M=VTG(M))&&(n.locationInfo=M);M=n}}Mg("Connecting to: "+g.lM(q));q.key=="cast-selector-receiver"?(tD(M||null),q=M||null,Hx()?SM().setLaunchParams(q):Xo("setLaunchParams called before ready.")):!M&&g7()&&qg()==q.key?fG("yt-remote-connection-change",!0):(d7(),tD(M||null),M=n2().j_(),(q=W1(M,q.key))&&Ng(q,1))}},DOD=function(n){n.player.getPlayerStateObject().isPlaying()?n.player.pauseVideo():(n.vW=q=>{!n.k7&&q.p8(8)&&(n.player.pauseVideo(),
jv(n))},n.player.addEventListener("presentingplayerstatechange",n.vW));
n.zT&&n.zT.Uq();K2()||(Ej=!0)};
g.nc.prototype.Ft=g.MR(49,function(){this.app.b$().Ft()});
g.ut.prototype.Ft=g.MR(48,function(){this.JG=null});
g.nc.prototype.mM=g.MR(47,function(n){this.app.b$().mM(n)});
g.ut.prototype.mM=g.MR(46,function(n){this.JG=n});
var AgG=class{constructor(){var n=LG();this.W=n;g.s$(n,"/client_streamz/youtube/living_room/mdx/channel/opened",g.m5("channel_type"))}X(n){g.jw(this.W,"/client_streamz/youtube/living_room/mdx/channel/opened",n)}},mfK=class{constructor(){var n=LG();this.W=n;g.s$(n,"/client_streamz/youtube/living_room/mdx/channel/closed",g.m5("channel_type"))}X(n){g.jw(this.W,"/client_streamz/youtube/living_room/mdx/channel/closed",n)}},FMF=class{constructor(){var n=LG();this.W=n;g.s$(n,"/client_streamz/youtube/living_room/mdx/channel/message_received",
g.m5("channel_type"))}X(n){g.jw(this.W,"/client_streamz/youtube/living_room/mdx/channel/message_received",n)}},$fF=class{constructor(){var n=LG();this.W=n;g.s$(n,"/client_streamz/youtube/living_room/mdx/channel/success")}X(){g.jw(this.W,"/client_streamz/youtube/living_room/mdx/channel/success")}},ZPs=class{constructor(){var n=LG();this.W=n;g.s$(n,"/client_streamz/youtube/living_room/mdx/channel/error",g.m5("channel_type"),g.m5("error_type"))}X(n,q){g.jw(this.W,"/client_streamz/youtube/living_room/mdx/channel/error",
n,q)}},aLK=class{constructor(){var n=LG();this.W=n;g.s$(n,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}X(){g.jw(this.W,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}},Rms=class{constructor(){var n=LG();this.W=n;g.s$(n,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}X(){g.jw(this.W,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}};g.f=k_.prototype;
g.f.Wt=function(){bH(this);const n=[];for(let q=0;q<this.X.length;q++)n.push(this.W[this.X[q]]);return n};
g.f.aN=function(){bH(this);return this.X.concat()};
g.f.has=function(n){return KG(this.W,n)};
g.f.equals=function(n,q){if(this===n)return!0;if(this.size!=n.size)return!1;q=q||pZF;bH(this);let M;for(let t=0;M=this.X[t];t++)if(!q(this.get(M),n.get(M)))return!1;return!0};
g.f.isEmpty=function(){return this.size==0};
g.f.clear=function(){this.W={};this.Q$=this.size=this.X.length=0};
g.f.remove=function(n){return this.delete(n)};
g.f.delete=function(n){return KG(this.W,n)?(delete this.W[n],--this.size,this.Q$++,this.X.length>2*this.size&&bH(this),!0):!1};
g.f.get=function(n,q){return KG(this.W,n)?this.W[n]:q};
g.f.set=function(n,q){KG(this.W,n)||(this.size+=1,this.X.push(n),this.Q$++);this.W[n]=q};
g.f.forEach=function(n,q){const M=this.aN();for(let t=0;t<M.length;t++){const c=M[t],Y=this.get(c);n.call(q,Y,c,this)}};
g.f.clone=function(){return new k_(this)};
g.f.keys=function(){return g.D_(this.EQ(!0)).X()};
g.f.values=function(){return g.D_(this.EQ(!1)).X()};
g.f.entries=function(){const n=this;return Qxd(this.keys(),function(q){return[q,n.get(q)]})};
g.f.EQ=function(n){bH(this);let q=0;const M=this.Q$,t=this,c=new g.Cq;c.next=function(){if(M!=t.Q$)throw Error("The map has changed since the iterator was created");if(q>=t.X.length)return g.F3;const Y=t.X[q++];return g.r4(n?Y:t.W[Y])};
return c};
var iNn={X8:"atp",Y8:"ska",Ma:"que",yl:"mus",OE:"sus",bk:"dsp",S4:"seq",Px:"mic",xS:"dpa",h7:"mlm",QX:"dsdtr",Bx:"ntb",DmL:"vsp",SB:"scn",XM:"rpe",bx:"dcn",cP:"dcp",Fd:"pas",kq:"drq",xC:"opf",gi:"els",di:"isg",qa:"svq",Ka:"mvp",b3:"ads",LY:"stcp",fY:"sads",vP:"dloc",Rr:"dcw",vY:"asw",cY:"apw",CP:"pcw",Ug:"ipv"},tyw={rEd:"u",qA:"cl",Ql:"k",iy:"i",y8:"cr",Hx:"m",Nt:"g",KK:"up"},wld={a5:"adPlaying",CK:"onAdStateChange"},zmT={vx:"nowPlaying",RB:"onStateChange",a5:"adPlaying",CK:"onAdStateChange",D0:"nowPlayingShorts",
mX:"onShortsStateChange"},JgF={D0:"nowPlayingShorts",mX:"onShortsStateChange"};dR.prototype.equals=function(n){return n?this.id==n.id:!1};
var sB="",IC=null,WBs=class extends g.vNa{constructor(){super()}},H1,IzL=yCO("loadCastFramework")||yCO("loadCastApplicationFramework"),HNs=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];g.vd(UB,g.Pm);g.f=UB.prototype;g.f.QM=function(n){this.J=arguments;this.X=!1;this.Bn?this.Z=g.Hd()+this.ke:this.Bn=g.ew(this.j,this.ke)};
g.f.stop=function(){this.Bn&&(g.NR.clearTimeout(this.Bn),this.Bn=null);this.Z=null;this.X=!1;this.J=[]};
g.f.pause=function(){++this.W};
g.f.resume=function(){this.W&&(--this.W,!this.W&&this.X&&(this.X=!1,this.D.apply(null,this.J)))};
g.f.Zk=function(){this.stop();UB.u7.Zk.call(this)};
g.f.MN=function(){this.Bn&&(g.NR.clearTimeout(this.Bn),this.Bn=null);this.Z?(this.Bn=g.ew(this.j,this.Z-g.Hd()),this.Z=null):this.W?this.X=!0:(this.X=!1,this.D.apply(null,this.J))};var cv=class{stringify(n){return g.NR.JSON.stringify(n,void 0)}parse(n){return g.NR.JSON.parse(n,void 0)}};g.vd(uH,g.hQ);g.vd(B1,g.hQ);var PmS=null;g.vd(vOw,g.hQ);g.vd(T$L,g.hQ);g.vd(lzL,g.hQ);FZ.prototype.debug=function(){};
FZ.prototype.info=function(){};
FZ.prototype.warning=function(){};var muG={},z9={};g.f=ZC.prototype;g.f.setTimeout=function(n){this.Ox=n};
g.f.XD=function(n){n=n.target;const q=this.Gs;q&&g.oD(n)==3?q.J():this.Qt(n)};
g.f.Qt=function(n){try{if(n==this.X)a:{const c=g.oD(this.X),Y=this.X.W,G=this.X.getStatus();if(!(c<3)&&(c!=3||this.X&&(this.W.Z||g.Jd(this.X)||g.Vx(this.X)))){this.JE||c!=4||Y==7||(Y==8||G<=0?A6(3):A6(2));J6(this);var q=this.X.getStatus();this.Hb=q;var M=ACS(this);if(this.D=q==200){if(this.Ex&&!this.Fy){b:{if(this.X){const K=g.rE(this.X,"X-HTTP-Initial-Response");if(K&&!g.K3(K)){var t=K;break b}}t=null}if(n=t)this.Fy=!0,Mz(this,n);else{this.D=!1;this.j=3;mg(12);oC(this);wR(this);break a}}if(this.Wb){n=
!0;let K;for(;!this.JE&&this.C<M.length;)if(K=$uO(this,M),K==z9){c==4&&(this.j=4,mg(14),n=!1);break}else if(K==muG){this.j=4;mg(15);n=!1;break}else Mz(this,K);DuO(this)&&this.C!=0&&(this.W.X=this.W.X.slice(this.C),this.C=0);c!=4||M.length!=0||this.W.Z||(this.j=1,mg(16),n=!1);this.D=this.D&&n;n?M.length>0&&!this.Bb&&(this.Bb=!0,this.Z.FL(this)):(oC(this),wR(this))}else Mz(this,M);c==4&&oC(this);this.D&&!this.JE&&(c==4?ZNS(this.Z,this):(this.D=!1,RC(this)))}else g.CO(this.X),q==400&&M.indexOf("Unknown SID")>
0?(this.j=3,mg(12)):(this.j=0,mg(13)),oC(this),wR(this)}}}catch(c){}finally{}};
g.f.cancel=function(){this.JE=!0;oC(this)};
g.f.xJ=function(){this.xl=null;const n=Date.now();n-this.tE>=0?(this.aL!=2&&(A6(3),mg(17)),oC(this),this.j=2,wR(this)):FBS(this,this.tE-n)};
g.f.getLastError=function(){return this.j};
g.f.hL=function(){return this.X};var Atd=class{constructor(n,q){this.X=n;this.map=q;this.context=null}};wVs.prototype.cancel=function(){this.Z=iO(this);if(this.W)this.W.cancel(),this.W=null;else if(this.X&&this.X.size!==0){for(const n of this.X.values())n.cancel();this.X.clear()}};g.f=rCK.prototype;g.f.ME=8;g.f.cH=1;g.f.connect=function(n,q,M,t){mg(0);this.Gk=n;this.JE=q||{};M&&t!==void 0&&(this.JE.OSID=M,this.JE.OAID=t);this.Fy=this.Jq;this.jX=azG(this,null,this.Gk);qz(this)};
g.f.disconnect=function(){xuD(this);if(this.cH==3){var n=this.nm++,q=this.jX.clone();g.kd(q,"SID",this.J);g.kd(q,"RID",n);g.kd(q,"TYPE","terminate");KJ(this,q);n=new ZC(this,this.J,n);n.aL=2;n.O=t6(q.clone());q=!1;if(g.NR.navigator&&g.NR.navigator.sendBeacon)try{q=g.NR.navigator.sendBeacon(n.O.toString(),"")}catch{}!q&&g.NR.Image&&((new Image).src=n.O,q=!0);q||(n.X=B$n(n.Z,null),n.X.send(n.O));n.Q1=Date.now();RC(n)}iPK(this)};
g.f.cI=function(){return this.cH==0};
g.f.getState=function(){return this.cH};
g.f.Xk=function(n){if(this.D)if(this.D=null,this.cH==1){if(!n){this.nm=Math.floor(Math.random()*1E5);n=this.nm++;const c=new ZC(this,"",n);let Y=this.V;this.Ex&&(Y?(Y=g.xw(Y),g.qk(Y,this.Ex)):Y=this.Ex);this.C!==null||this.tE||(c.jX=Y,Y=null);if(this.Nm)a:{var q=0;for(var M=0;M<this.Z.length;M++){b:{var t=this.Z[M];if("__data__"in t.map&&(t=t.map.__data__,typeof t==="string")){t=t.length;break b}t=void 0}if(t===void 0)break;q+=t;if(q>4096){q=M;break a}if(q===4096||M===this.Z.length-1){q=M+1;break a}}q=
1E3}else q=1E3;q=nrG(this,c,q);M=this.jX.clone();g.kd(M,"RID",n);g.kd(M,"CVER",22);this.Wb&&g.kd(M,"X-HTTP-Session-Id",this.Wb);KJ(this,M);Y&&(this.tE?q="headers="+g.yl(g.eU(Y))+"&"+q:this.C&&g.Ek(M,this.C,Y));nJ(this.W,c);this.OT&&g.kd(M,"TYPE","init");this.Nm?(g.kd(M,"$req",q),g.kd(M,"SID","null"),c.Ex=!0,aC(c,M,null)):aC(c,M,q);this.cH=2}}else this.cH==3&&(n?qIF(this,n):this.Z.length==0||zqF(this.W)||qIF(this))};
g.f.xn=function(){this.O=null;MND(this);if(this.d7&&!(this.Ox||this.X==null||this.qP<=0)){var n=4*this.qP;this.RL=$_((0,g.Ij)(this.f7,this),n)}};
g.f.f7=function(){this.RL&&(this.RL=null,this.Fy=!1,this.Ox=!0,mg(10),rR(this),MND(this))};
g.f.FL=function(n){this.X==n&&this.d7&&!this.Ox&&(Gu(this),this.Ox=!0,mg(11))};
g.f.RR=function(){this.xl!=null&&(this.xl=null,rR(this),x_(this),mg(19))};
g.f.Fv=function(n){n?mg(2):mg(1)};
g.f.isActive=function(){return!!this.j&&this.j.isActive(this)};
g.f=cgO.prototype;g.f.Z3=function(){};
g.f.u2=function(){};
g.f.WQ=function(){};
g.f.RJ=function(){};
g.f.isActive=function(){return!0};
g.f.Wd=function(){};g.vd(bO,g.mR);bO.prototype.open=function(){this.X.j=this.Z;this.C&&(this.X.aL=!0);this.X.connect(this.D,this.W||void 0)};
bO.prototype.close=function(){this.X.disconnect()};
bO.prototype.send=function(n){var q=this.X;if(typeof n==="string"){var M={};M.__data__=n;n=M}else this.j&&(M={},M.__data__=g.lM(n),n=M);q.Z.push(new Atd(q.iY++,n));q.cH==3&&qz(q)};
bO.prototype.Zk=function(){this.X.j=null;delete this.Z;this.X.disconnect();delete this.X;bO.u7.Zk.call(this)};
g.vd(GNO,uH);g.vd(KMF,B1);g.vd(kI,cgO);kI.prototype.Z3=function(){this.X.dispatchEvent("m")};
kI.prototype.u2=function(n){this.X.dispatchEvent(new GNO(n))};
kI.prototype.WQ=function(n){this.X.dispatchEvent(new KMF(n))};
kI.prototype.RJ=function(){this.X.dispatchEvent("n")};
bO.prototype.J=function(){return new dx(this,this.X)};
dx.prototype.W=function(){return QF(this.X.W)};
dx.prototype.Z=function(){return tNs(this.X).map(n=>{var q=this.J;n=n.map;"__data__"in n?(n=n.__data__,q=q.j?rhd(n):n):q=n;return q})};
dx.prototype.commit=function(n){this.X.Hb=n};var On=new g.mR,kNs=class extends g.hQ{constructor(){super("statevent",On)}};g.f=eu.prototype;g.f.d6=null;g.f.ZY=!1;g.f.IC=null;g.f.tV=null;g.f.Dh=null;g.f.qJ=null;g.f.qd=null;g.f.G4=null;g.f.g6=null;g.f.lr=null;g.f.rj=0;g.f.P1=null;g.f.lO=null;g.f.pF=null;g.f.fp=-1;g.f.V9=!0;g.f.lL=!1;g.f.Oz=0;g.f.iO=null;var NJF={},Wv={};g.f=eu.prototype;g.f.setTimeout=function(n){this.W=n};
g.f.Z0=function(n){n=n.target;const q=this.iO;q&&g.oD(n)==3?q.J():this.wu(n)};
g.f.wu=function(n){try{if(n==this.lr)a:{const q=g.oD(this.lr),M=this.lr.W,t=this.lr.getStatus();if(g.h2&&!g.mS("420+")){if(q<4)break a}else if(q<3||q==3&&!g.Jd(this.lr))break a;this.lL||q!=4||M==7||(M==8||t<=0?this.X.iM(3):this.X.iM(2));emK(this);const c=this.lr.getStatus();this.fp=c;const Y=g.Jd(this.lr);if(this.ZY=c==200){q==4&&sn(this);if(this.Wb){for(n=!0;!this.lL&&this.rj<Y.length;){const G=OPw(this,Y);if(G==Wv){q==4&&(this.pF=4,gx(),n=!1);break}else if(G==NJF){this.pF=4;gx();n=!1;break}else ErF(this,
G)}q==4&&Y.length==0&&(this.pF=1,gx(),n=!1);this.ZY=this.ZY&&n;n||(sn(this),yH(this))}else ErF(this,Y);this.ZY&&!this.lL&&(q==4?this.X.sz(this):(this.ZY=!1,hZ(this)))}else this.pF=c==400&&Y.indexOf("Unknown SID")>0?3:0,gx(),sn(this),yH(this)}}catch(q){}finally{}};
g.f.cancel=function(){this.lL=!0;sn(this)};
g.f.uF=function(){this.IC=null;const n=Date.now();n-this.tV>=0?(this.qJ!=2&&this.X.iM(3),sn(this),this.pF=2,gx(),yH(this)):grG(this,this.tV-n)};
g.f.getLastError=function(){return this.pF};g.f=ygF.prototype;g.f.NQ=null;g.f.xw=null;g.f.jy=!1;g.f.Vo=null;g.f.e_=null;g.f.Ce=-1;g.f.fg=null;g.f.r3=null;g.f.connect=function(n){this.Vo=n;n=ju(this.X,null,this.Vo);gx();Date.now();const q=this.X.V;q!=null?(this.fg=q[0],(this.r3=q[1])?(this.e_=1,ssG(this)):(this.e_=2,IH(this))):(c1(n,"MODE","init"),this.xw=new eu(this),this.xw.d6=this.NQ,En(this.xw,n,!1,null,!0),this.e_=0)};
g.f.zC=function(n){if(n)this.e_=2,IH(this);else{gx();var q=this.X;q.yq=q.iD.Ce;Un(q,9)}n&&this.iM(2)};
g.f.Yj=function(n){return this.X.Yj(n)};
g.f.abort=function(){this.xw&&(this.xw.cancel(),this.xw=null);this.Ce=-1};
g.f.cI=function(){return!1};
g.f.JO=function(n,q){this.Ce=n.fp;if(this.e_==0)if(q){try{var M=this.W.parse(q)}catch(t){n=this.X;n.yq=this.Ce;Un(n,2);return}this.fg=M[0];this.r3=M[1]}else n=this.X,n.yq=this.Ce,Un(n,2);else this.e_==2&&(this.jy?(gx(),Date.now()):q=="11111"?(gx(),this.jy=!0,Date.now(),this.Ce=200,this.xw.cancel(),gx(),Su(this.X,this,!0)):(gx(),Date.now(),this.jy=!1))};
g.f.sz=function(){this.Ce=this.xw.fp;if(this.xw.ZY)this.e_==0?this.r3?(this.e_=1,ssG(this)):(this.e_=2,IH(this)):this.e_==2&&(this.jy?(gx(),Su(this.X,this,!0)):(gx(),Su(this.X,this,!1)));else{this.e_==0?gx():this.e_==2&&gx();var n=this.X;this.xw.getLastError();n.yq=this.Ce;Un(n,2)}};
g.f.Aw=function(){return this.X.Aw()};
g.f.isActive=function(){return this.X.isActive()};
g.f.iM=function(n){this.X.iM(n)};g.f=fJ.prototype;g.f.Lb=null;g.f.Cp=null;g.f.rT=null;g.f.WH=null;g.f.K2=null;g.f.Dp=null;g.f.pJ=null;g.f.hV=null;g.f.m9=0;g.f.JK=0;g.f.vH=null;g.f.wA=null;g.f.PO=null;g.f.Sl=null;g.f.iD=null;g.f.Gc=null;g.f.dG=-1;g.f.IJ=-1;g.f.yq=-1;g.f.jn=0;g.f.FT=0;g.f.aO=8;var mOQ={OK:0,wH:2,GI:4,Q7:5,lkl:6,STOP:7,fK:8,ZF:9,RW:10,ux:11,kA:12};g.vd(jss,g.hQ);g.vd(SIs,g.hQ);g.f=fJ.prototype;
g.f.connect=function(n,q,M,t,c){gx();this.K2=q;this.Cp=M||{};t&&c!==void 0&&(this.Cp.OSID=t,this.Cp.OAID=c);this.O?(Nz((0,g.Ij)(this.yG,this,n),100),ILD(this)):this.yG(n)};
g.f.disconnect=function(){fLd(this);if(this.X==3){var n=this.m9++;const q=this.Dp.clone();g.kd(q,"SID",this.J);g.kd(q,"RID",n);g.kd(q,"TYPE","terminate");Tu(this,q);n=new eu(this,this.J,n);n.qJ=2;n.qd=t6(q.clone());(new Image).src=n.qd.toString();n.Dh=Date.now();hZ(n)}Ufs(this)};
g.f.yG=function(n){this.iD=new ygF(this);this.iD.NQ=this.Lb;this.iD.W=this.j;this.iD.connect(n)};
g.f.cI=function(){return this.X==0};
g.f.getState=function(){return this.X};
g.f.jJ=function(n){this.wA=null;PzK(this,n)};
g.f.Fk=function(){this.PO=null;this.WH=new eu(this,this.J,"rpc",this.C);this.WH.d6=this.Lb;this.WH.Oz=0;var n=this.pJ.clone();g.kd(n,"RID","rpc");g.kd(n,"SID",this.J);g.kd(n,"CI",this.Gc?"0":"1");g.kd(n,"AID",this.dG);Tu(this,n);g.kd(n,"TYPE","xmlhttp");En(this.WH,n,!0,this.hV,!1)};
g.f.JO=function(n,q){if(this.X!=0&&(this.WH==n||this.rT==n))if(this.yq=n.fp,this.rT==n&&this.X==3)if(this.aO>7){try{var M=this.j.parse(q)}catch(t){M=null}if(Array.isArray(M)&&M.length==3)if(n=M,n[0]==0)a:{if(!this.PO){if(this.WH)if(this.WH.Dh+3E3<this.rT.Dh)LJ(this),this.WH.cancel(),this.WH=null;else break a;lO(this);gx()}}else this.IJ=n[1],0<this.IJ-this.dG&&n[2]<37500&&this.Gc&&this.FT==0&&!this.Sl&&(this.Sl=Nz((0,g.Ij)(this.pK,this),6E3));else Un(this,11)}else q!="y2f%"&&Un(this,11);else if(this.WH==
n&&LJ(this),!g.K3(q))for(n=this.j.parse(q),q=0;q<n.length;q++)M=n[q],this.dG=M[0],M=M[1],this.X==2?M[0]=="c"?(this.J=M[1],this.hV=M[2],M=M[3],M!=null?this.aO=M:this.aO=6,this.X=3,this.vH&&this.vH.SJ(),this.pJ=ju(this,this.Aw()?this.hV:null,this.K2),vrK(this)):M[0]=="stop"&&Un(this,7):this.X==3&&(M[0]=="stop"?Un(this,7):M[0]!="noop"&&this.vH&&this.vH.aJ(M),this.FT=0)};
g.f.pK=function(){this.Sl!=null&&(this.Sl=null,this.WH.cancel(),this.WH=null,lO(this),gx())};
g.f.sz=function(n){if(this.WH==n){LJ(this);this.WH=null;var q=2}else if(this.rT==n)this.rT=null,q=1;else return;this.yq=n.fp;if(this.X!=0)if(n.ZY)if(q==1){q=n.g6?n.g6.length:0;n=Date.now()-n.Dh;var M=On;M.dispatchEvent(new jss(M,q,n,this.jn));Hv(this);this.vH&&this.vH.Gh(this,this.Z);this.Z.length=0}else vrK(this);else{M=n.getLastError();var t;if(!(t=M==3||M==7||M==0&&this.yq>0)){if(t=q==1)this.rT||this.wA||this.X==1||this.jn>=2?t=!1:(this.wA=Nz((0,g.Ij)(this.jJ,this,n),TJL(this,this.jn)),this.jn++,
t=!0);t=!(t||q==2&&lO(this))}if(t)switch(M){case 1:Un(this,5);break;case 4:Un(this,10);break;case 3:Un(this,6);break;case 7:Un(this,12);break;default:Un(this,2)}}};
g.f.w5=function(n){if(!g.rd(arguments,this.X))throw Error("Unexpected channel state: "+this.X);};
g.f.Ij=function(n){n?gx():(gx(),lLO(this,8))};
g.f.Yj=function(n){if(n)throw Error("Can't create secondary domain capable XhrIo object.");n=new g.mX;n.C=!1;return n};
g.f.isActive=function(){return!!this.vH&&this.vH.isActive(this)};
g.f.iM=function(n){const q=On;q.dispatchEvent(new SIs(q,n))};
g.f.Aw=function(){return!1};
g.f=uXL.prototype;g.f.SJ=function(){};
g.f.aJ=function(){};
g.f.Gh=function(){};
g.f.du=function(){};
g.f.H2=function(){};
g.f.nJ=function(){return{}};
g.f.isActive=function(){return!0};g.f=BJQ.prototype;g.f.enqueue=function(n){this.W.push(n)};
g.f.isEmpty=function(){return this.X.length===0&&this.W.length===0};
g.f.clear=function(){this.X=[];this.W=[]};
g.f.contains=function(n){return g.rd(this.X,n)||g.rd(this.W,n)};
g.f.remove=function(n){{var q=this.X;const M=Array.prototype.lastIndexOf.call(q,n,q.length-1);M>=0?(g.pa(q,M),q=!0):q=!1}return q||g.MD(this.W,n)};
g.f.Wt=function(){const n=[];for(var q=this.X.length-1;q>=0;--q)n.push(this.X[q]);q=this.W.length;for(let M=0;M<q;++M)n.push(this.W[M]);return n};var $Os=class extends g.hQ{constructor(n){super("channelMessage");this.message=n}},FJF=class extends g.hQ{constructor(n){super("channelError");this.error=n}};g.vd(uO,g.Pm);g.f=uO.prototype;g.f.TW=function(){this.ke=Math.min(3E5,this.ke*2);this.Z();this.W&&this.start()};
g.f.start=function(){const n=this.ke+15E3*Math.random();this.X.ya(n);this.W=Date.now()+n};
g.f.stop=function(){this.X.stop();this.W=0};
g.f.isActive=function(){return this.X.isActive()};
g.f.reset=function(){this.X.stop();this.ke=5E3};g.vd(Bv,uXL);g.f=Bv.prototype;g.f.subscribe=function(n,q,M){return this.D.subscribe(n,q,M)};
g.f.unsubscribe=function(n,q,M){return this.D.unsubscribe(n,q,M)};
g.f.bS=function(n){return this.D.bS(n)};
g.f.publish=function(n,q){return this.D.publish.apply(this.D,arguments)};
g.f.dispose=function(){this.C||(this.C=!0,g.Hm(this.D),this.disconnect(),g.Hm(this.W),this.W=null,this.Wb=()=>"",this.jX=()=>g.Qa({}))};
g.f.fm=function(){return this.C};
g.f.connect=async function(n,q,M){try{this.j&&await this.J}finally{if(this.C||this.X&&this.X.getState()==2)return;this.Q1="";this.W.stop();this.V=n||null;this.O=q||0;const t=this.aL+"/test",c=this.aL+"/bind";n=new fJ(M?M.firstTestResults:null,M?M.secondTestResults:null,this.Bb);const Y=this.X;Y&&(Y.vH=null);n.vH=this;this.X=n;if(this.j)return this.J=mn(this).then(()=>orT(this,t,c,Y,M)),this.J.then(()=>{this.J=g.Qa()});
orT(this,t,c,Y,M)}};
g.f.disconnect=function(n){try{this.j&&(this.J.cancel(),this.J=g.Qa())}finally{this.U=n||0,this.W&&this.W.stop(),Db(this),this.X&&(this.X.getState()==3&&PzK(this.X),this.X.disconnect()),this.U=0}};
g.f.sendMessage=async function(n,q){try{this.j&&await this.J}finally{if(this.C)return;const M={_sc:n};q&&g.qk(M,q);if(this.W.isActive()||(this.X?this.X.getState():0)==2)this.Z.push(M);else if(this.Pj())try{this.j&&!VNs(this,n)&&await mn(this)}finally{this.Pj()&&(VNs(this,n)||AZ(this),Db(this),Pv(this.X,M))}}};
g.f.SJ=function(){this.W.reset();this.V=null;this.O=0;if(this.Z.length)if(this.j)Czs(this);else{var n=this.Z;this.Z=[];var q=n.length;AZ(this);for(let M=0;M<q;++M)Pv(this.X,n[M]);$I(this);$I(this)}else $I(this)};
g.f.du=function(n){var q=n==2&&this.X.yq==401;n==4||q||this.W.start();this.publish("handlerError",n,q);q=Object.keys(mOQ).find(M=>mOQ[M]===n);
this.Gs.X("BROWSER_CHANNEL",q??"UNKNOWN")};
g.f.H2=function(n,q){if(!this.W.isActive())this.publish("handlerClosed");else if(q){const M=q.length;for(let t=0;t<M;++t){const c=q[t].map;c&&this.Z.push(c)}}this.Fy.X("BROWSER_CHANNEL");n&&g.XW(this.Jq.W,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps",n.length);q&&g.XW(this.d7.W,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps",q.length)};
g.f.Gh=function(n,q){q!=null&&n!=null&&this.Ox.X()};
g.f.nJ=function(){const n={v:2};this.Q1&&(n.gsessionid=this.Q1);this.O!=0&&(n.ui=""+this.O);this.U!=0&&(n.ui=""+this.U);this.V&&g.qk(n,this.V);return n};
g.f.aJ=function(n){n[0]=="S"?this.Q1=n[1]:n[0]=="gracefulReconnect"?(this.W.start(),this.X.disconnect()):this.publish("handlerMessage",new DfK(n[0],n[1]));this.nm.X("BROWSER_CHANNEL")};
g.f.Pj=function(){return!!this.X&&this.X.getState()==3};
g.f.E3=function(n){(this.xl.loungeIdToken=n)||this.W.stop();if(this.Xh&&this.X){const q=this.X.Lb||{};n?q["X-YouTube-LoungeId-Token"]=n:delete q["X-YouTube-LoungeId-Token"];this.X.Lb=q}};
g.f.getDeviceId=function(){return this.xl.id};
g.f.VZ=function(){return this.W.isActive()?this.W.W-Date.now():NaN};
g.f.CE=function(){var n=this.W;g.il(n.X);n.start()};
g.f.tM=function(){this.W.isActive();HPL(this.X)==0&&this.connect(this.V,this.O)};FI.prototype.sendRequest=function(n,q,M,t,c,Y,G){n={format:Y?"RAW":"JSON",method:n,context:this,timeout:5E3,withCredentials:!!G,onSuccess:g.fa(this.J,t,!Y),onError:g.fa(this.Z,c),onTimeout:g.fa(this.j,c)};M&&(n.postParams=M,n.headers={"Content-Type":"application/x-www-form-urlencoded"});return g.tW(q,n)};
FI.prototype.J=function(n,q,M,t){q?n(t):n({text:M.responseText})};
FI.prototype.Z=function(n,q){n(Error("Request error: "+q.status))};
FI.prototype.j=function(n){n(Error("request timed out"))};var qOD=class extends g.mR{constructor(n,q){super();this.handler=n();this.handler.subscribe("handlerOpened",this.X,this);this.handler.subscribe("handlerClosed",this.onClosed,this);this.handler.subscribe("handlerError",(M,t)=>{this.onError(t)});
this.handler.subscribe("handlerMessage",this.onMessage,this);this.W=q}connect(n,q,M){this.handler.connect(n,q,M)}disconnect(n){this.handler.disconnect(n)}CE(){this.handler.CE()}getDeviceId(){return this.handler.getDeviceId()}VZ(){return this.handler.VZ()}Pj(){return this.handler.Pj()}X(){this.dispatchEvent("channelOpened");var n=this.handler,q=this.W;g.Sz("yt-remote-session-browser-channel",{firstTestResults:[""],secondTestResults:!n.X.Gc,sessionId:n.X.J,arrayId:n.X.dG});g.Sz("yt-remote-session-screen-id",
q);n=yF();q=XZ();g.rd(n,q)||n.push(q);dun(n);jD()}onClosed(){this.dispatchEvent("channelClosed")}onMessage(n){this.dispatchEvent(new $Os(n))}onError(n){this.dispatchEvent(new FJF(n?1:0))}sendMessage(n,q){this.handler.sendMessage(n,q)}E3(n){this.handler.E3(n)}dispose(){this.handler.dispose()}};var nFK=class{constructor(n,q,M=()=>""){new YIA;
var t=new g.aN;this.pathPrefix=n;this.X=q;this.Q1=M;this.j=t;this.O=null;this.V=this.C=0;this.channel=null;this.D=0;this.Z=new uO(()=>{this.Z.isActive();this.channel?.J().W()===0&&this.connect(this.O,this.C)});
this.J={};this.W={};this.xl=!1;this.logger=null;this.U=[];this.OC=void 0;this.jX=new AgG;this.RL=new mfK;this.JE=new FMF;this.Wb=new ZPs}connect(n={},q=0){this.D!==2&&(this.Z.stop(),this.O=n,this.C=q,aH(this),(n=g.U("ID_TOKEN"))?this.J["x-youtube-identity-token"]=n:delete this.J["x-youtube-identity-token"],this.X&&(this.W.device=this.X.device,this.W.name=this.X.name,this.W.app=this.X.app,this.W.id=this.X.id,this.X.XB&&(this.W.mdxVersion=`${this.X.XB}`),this.X.theme&&(this.W.theme=this.X.theme),this.X.capabilities&&
(this.W.capabilities=this.X.capabilities),this.X.hk&&(this.W.cst=this.X.hk),this.X.authuser&&(this.W.authuser=this.X.authuser),this.X.pageId&&(this.W.pageId=this.X.pageId)),this.C!==0?this.W.ui=`${this.C}`:delete this.W.ui,Object.assign(this.W,this.O),this.channel=new bO(this.pathPrefix,{jH:"gsessionid",Z_:this.J,J8:this.W}),this.channel.open(),this.D=2,QsK(this))}disconnect(n=0){this.V=n;this.Z.stop();aH(this);this.channel&&(this.V!==0?this.W.ui=`${this.V}`:delete this.W.ui,this.channel.close());
this.V=0}VZ(){return this.Z.isActive()?this.Z.W-Date.now():NaN}CE(){var n=this.Z;g.il(n.X);n.start()}sendMessage(n,q){this.channel&&(aH(this),this.channel.send({_sc:n,...q}))}E3(n){n||this.Z.stop();n?this.J["X-YouTube-LoungeId-Token"]=n:delete this.J["X-YouTube-LoungeId-Token"]}getDeviceId(){return this.X?this.X.id:""}publish(n,...q){return this.j.publish(n,...q)}subscribe(n,q,M){return this.j.subscribe(n,q,M)}unsubscribe(n,q,M){return this.j.unsubscribe(n,q,M)}bS(n){return this.j.bS(n)}dispose(){this.xl||
(this.xl=!0,g.Hm(this.j),this.disconnect(),g.Hm(this.Z),this.Q1=()=>"")}fm(){return this.xl}};var plD=class extends g.mR{constructor(n){super();this.X=n();this.X.subscribe("webChannelOpened",this.W,this);this.X.subscribe("webChannelClosed",this.onClosed,this);this.X.subscribe("webChannelError",this.onError,this);this.X.subscribe("webChannelMessage",this.onMessage,this)}connect(n,q){this.X.connect(n,q)}disconnect(n){this.X.disconnect(n)}CE(){this.X.CE()}getDeviceId(){return this.X.getDeviceId()}VZ(){return this.X.VZ()}Pj(){return this.X.D===3}W(){this.dispatchEvent("channelOpened")}onClosed(){this.dispatchEvent("channelClosed")}onMessage(n){this.dispatchEvent(new $Os(n))}onError(){this.dispatchEvent(new FJF(this.X.OC===
401?1:0))}sendMessage(n,q){this.X.sendMessage(n,q)}E3(n){this.X.E3(n)}dispose(){this.X.dispose()}};var knT=Date.now(),RH=null,JZ=Array(50),zu=-1,VH=!1;g.vd(CJ,g.Sh);CJ.prototype.j_=function(){return this.screens};
CJ.prototype.contains=function(n){return!!h6(this.screens,n)};
CJ.prototype.get=function(n){return n?W1(this.screens,n):null};
CJ.prototype.info=function(n){oH(this.D,n)};var a8w=class extends g.Sh{constructor(n,q,M,t,c){super();this.J=n;this.U=q;this.O=M;this.xl=t;this.V=c;this.W=0;this.X=null;this.Bn=NaN}start(){!this.X&&isNaN(this.Bn)&&this.Z()}stop(){this.X&&(this.X.abort(),this.X=null);isNaN(this.Bn)||(g.CM(this.Bn),this.Bn=NaN)}Zk(){this.stop();super.Zk()}Z(){this.Bn=NaN;this.X=g.tW(Zb(this.J,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:this.U},timeout:5E3,onSuccess:(0,g.Ij)(this.D,this),onError:(0,g.Ij)(this.j,this),onTimeout:(0,g.Ij)(this.C,
this)})}D(n,q){this.X=null;n=q.screen||{};n.dialId=this.O;n.name=this.xl;q=-1;this.V&&n.shortLivedLoungeToken&&n.shortLivedLoungeToken.value&&n.shortLivedLoungeToken.refreshIntervalMs&&(n.screenIdType="shortLived",n.loungeToken=n.shortLivedLoungeToken.value,q=n.shortLivedLoungeToken.refreshIntervalMs);this.publish("pairingComplete",new Nx(n),q)}j(n){this.X=null;n.status&&n.status==404?this.W>=ZCF.length?this.publish("pairingFailed",Error("DIAL polling timed out")):(n=ZCF[this.W],this.Bn=g.Jx((0,g.Ij)(this.Z,
this),n),this.W++):this.publish("pairingFailed",Error("Server error "+n.status))}C(){this.X=null;this.publish("pairingFailed",Error("Server not responding"))}},ZCF=[2E3,2E3,1E3,1E3,1E3,2E3,2E3,5E3,5E3,1E4];g.vd(xI,CJ);g.f=xI.prototype;g.f.start=function(){rx(this)&&this.publish("screenChange");!g.Ir("yt-remote-lounge-token-expiration")&&Oqn(this);g.CM(this.X);this.X=g.Jx((0,g.Ij)(this.start,this),1E4)};
g.f.add=function(n,q){rx(this);bqS(this,n);QH(this,!1);this.publish("screenChange");q(n);n.token||Oqn(this)};
g.f.remove=function(n,q){let M=rx(this);N4O(this,n)&&(QH(this,!1),M=!0);q(n);M&&this.publish("screenChange")};
g.f.zc=function(n,q,M,t){let c=rx(this);const Y=this.get(n.id);Y?(Y.name!=q&&(Y.name=q,QH(this,!1),c=!0),M(n)):t(Error("no such local screen."));c&&this.publish("screenChange")};
g.f.Zk=function(){g.CM(this.X);xI.u7.Zk.call(this)};
g.f.XZ=function(n){rx(this);let q=this.screens.length;n=n&&n.screens||[];const M=n.length;for(let t=0;t<M;++t){const c=n[t],Y=this.get(c.screenId);Y&&(Y.token=c.loungeToken,--q)}QH(this,!q);q&&oH(this.D,"Missed "+q+" lounge tokens.")};
g.f.x$=function(n){oH(this.D,"Requesting lounge tokens failed: "+n)};var jyL=class extends g.Sh{constructor(n,q){super();this.D=q;q=(q=g.Ir("yt-remote-online-screen-ids")||"")?q.split(","):[];const M={},t=this.D(),c=t.length;for(let Y=0;Y<c;++Y){const G=t[Y].id;M[G]=g.rd(q,G)}this.X=M;this.j=n;this.Z=this.J=NaN;this.W=null;pJ("Initialized with "+g.lM(this.X))}start(){const n=parseInt(g.Ir("yt-remote-fast-check-period")||"0",10);(this.J=g.Hd()-144E5<n?0:n)?nZ(this):(this.J=g.Hd()+3E5,g.Sz("yt-remote-fast-check-period",this.J),this.C())}isEmpty(){return g.JF(this.X)}update(){pJ("Updating availability on schedule.");
const n=this.D(),q=g.ln(this.X,function(M,t){return M&&!!W1(n,t)},this);
qr(this,q)}Zk(){g.CM(this.Z);this.Z=NaN;this.W&&(this.W.abort(),this.W=null);super.Zk()}C(){g.CM(this.Z);this.Z=NaN;this.W&&this.W.abort();const n=eFS(this);if(Y_(n)){var q=Zb(this.j,"/pairing/get_screen_availability"),M={lounge_token:g.aG(n).join(",")};this.W=this.j.sendRequest("POST",q,M,(0,g.Ij)(this.V,this,n),(0,g.Ij)(this.O,this))}else qr(this,{}),nZ(this)}V(n,q){this.W=null;var M=g.aG(eFS(this));if(g.Hs(M,g.aG(n))){q=q.screens||[];M={};var t=q.length;for(let c=0;c<t;++c)M[n[q[c].loungeToken]]=
q[c].status=="online";qr(this,M);nZ(this)}else this.SY("Changing Screen set during request."),this.C()}O(n){this.SY("Screen availability failed: "+n);this.W=null;nZ(this)}SY(n){oH("OnlineScreenService",n)}};g.vd(i5,CJ);g.f=i5.prototype;g.f.start=function(){this.W.start();this.X.start();this.screens.length&&(this.publish("screenChange"),this.X.isEmpty()||this.publish("onlineScreenChange"))};
g.f.add=function(n,q,M){this.W.add(n,q,M)};
g.f.remove=function(n,q,M){this.W.remove(n,q,M);this.X.update()};
g.f.zc=function(n,q,M,t){this.W.contains(n)?this.W.zc(n,q,M,t):(n="Updating name of unknown screen: "+n.name,oH(this.D,n),t(Error(n)))};
g.f.j_=function(n){return n?this.screens:g.ND(this.screens,g.Zs(this.Z,function(q){return!this.contains(q)},this))};
g.f.qE=function(){return g.Zs(this.j_(!0),function(n){return!!this.X.X[n.id]},this)};
g.f.l2=function(n,q,M,t,c,Y){this.info("getDialScreenByPairingCode "+n+" / "+q);const G=new a8w(this.J,n,q,M,t);G.subscribe("pairingComplete",(K,k)=>{g.Hm(G);c(tR(this,K),k)});
G.subscribe("pairingFailed",K=>{g.Hm(G);Y(K)});
G.start();return(0,g.Ij)(G.stop,G)};
g.f.IR=function(n,q,M,t){g.tW(Zb(this.J,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:n},timeout:5E3,onSuccess:(0,g.Ij)(function(c,Y){c=new Nx(Y.screen||{});if(!c.name||yTw(this,c.name)){a:{Y=c.name;let G=2,K=q(Y,G);for(;yTw(this,K);){G++;if(G>20)break a;K=q(Y,G)}Y=K}c.name=Y}M(tR(this,c))},this),
onError:(0,g.Ij)(function(c){t(Error("pairing request failed: "+c.status))},this),
onTimeout:(0,g.Ij)(function(){t(Error("pairing request timed out."))},this)})};
g.f.Zk=function(){g.Hm(this.W);g.Hm(this.X);i5.u7.Zk.call(this)};
g.f.ZP=function(){XmQ(this);this.publish("screenChange");this.X.update()};
i5.prototype.dispose=i5.prototype.dispose;g.vd(YS,g.Sh);g.f=YS.prototype;g.f.Be=function(n){this.fm()||(n&&(KZ(this,""+n),this.publish("sessionFailed")),this.X=null,this.publish("sessionScreen",null))};
g.f.info=function(n){oH(this.Wb,n)};
g.f.fJ=function(){return null};
g.f.oD=function(n){const q=this.W;n?(q.displayStatus=new chrome.cast.ReceiverDisplayStatus(n,[]),q.displayStatus.showStop=!0):q.displayStatus=null;chrome.cast.setReceiverDisplayStatus(q,(0,g.Ij)(function(){this.info("Updated receiver status for "+q.friendlyName+": "+n)},this),(0,g.Ij)(function(){KZ(this,"Failed to update receiver status for: "+q.friendlyName)},this))};
g.f.Zk=function(){this.oD("");YS.u7.Zk.call(this)};var Iu=class extends YS{constructor(n,q,M){super(n,q,"CastSession");this.config_=M;this.Z=null;this.U=(0,g.Ij)(this.jX,this);this.Q1=(0,g.Ij)(this.aL,this);this.xl=g.Jx(()=>{HqO(this,null)},12E4);
this.O=this.j=this.C=this.V=0}RL(n){if(this.Z){if(this.Z==n)return;KZ(this,"Overriding cast session with new session object");L6d(this);this.Z.removeUpdateListener(this.U);this.Z.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.Q1)}this.Z=n;this.Z.addUpdateListener(this.U);this.Z.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.Q1);PjS(this,"getMdxSessionStatus")}D(n){this.info("launchWithParams no-op for Cast: "+g.lM(n))}stop(){this.Z?this.Z.stop((0,g.Ij)(function(){this.Be()},
this),(0,g.Ij)(function(){this.Be(Error("Failed to stop receiver app."))},this)):this.Be(Error("Stopping cast device without session."))}oD(){}Zk(){this.info("disposeInternal");
L6d(this);this.Z&&(this.Z.removeUpdateListener(this.U),this.Z.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.Q1));this.Z=null;super.Zk()}aL(n,q){if(!this.fm())if(q)if(q=G9(q),g.Xm(q))switch(n=""+q.type,q=q.data||{},this.info("onYoutubeMessage_: "+n+" "+g.lM(q)),n){case "mdxSessionStatus":HqO(this,q);break;case "loungeToken":vFd(this,q);break;default:KZ(this,"Unknown youtube message: "+n)}else KZ(this,"Unable to parse message.");else KZ(this,"No data in message.")}JE(n,q,M,t){g.CM(this.V);
this.V=0;W6Q(this.J,this.W.label,n,this.W.friendlyName,(0,g.Ij)(function(c){c?q(c):t>=0?(KZ(this,"Screen "+n+" appears to be offline. "+t+" retries left."),this.V=g.Jx((0,g.Ij)(this.JE,this,n,q,M,t-1),300)):M(Error("Unable to fetch screen."))},this),M)}fJ(){return this.Z}jX(n){this.fm()||n||(KZ(this,"Cast session died."),this.Be())}};var RwD=class extends YS{constructor(n,q,M,t){super(n,q,"DialSession");this.config_=t;this.Z=this.V=null;this.Q1="";this.aL=M;this.jX=null;this.U=()=>{};
this.xl=NaN;this.JE=(0,g.Ij)(this.Fy,this);this.j=()=>{};
this.O=this.C=0}RL(n){this.Z=n;this.Z.addUpdateListener(this.JE)}D(n){this.jX=n;this.U()}stop(){B4S(this);this.Z?this.Z.stop((0,g.Ij)(this.Be,this,null),(0,g.Ij)(this.Be,this,"Failed to stop DIAL device.")):this.Be()}Zk(){B4S(this);this.Z&&this.Z.removeUpdateListener(this.JE);this.Z=null;super.Zk()}Fy(n){this.fm()||n||(KZ(this,"DIAL session died."),this.j(),this.j=()=>{},this.Be())}};var obn=class extends YS{constructor(n,q){super(n,q,"ManualSession");this.Z=g.Jx((0,g.Ij)(this.D,this,null),150)}stop(){this.Be()}RL(){}D(){g.CM(this.Z);this.Z=NaN;const n=W1(this.J.j_(),this.W.label);n?GI(this,n):this.Be(Error("No such screen"))}Zk(){g.CM(this.Z);this.Z=NaN;super.Zk()}};var vx=class extends g.Sh{constructor(n,q){super();this.config_=q;this.W=n;this.RL=q.appId||"233637DE";this.J=q.theme||"cl";this.Wb=q.disableCastApi||!1;this.C=q.forceMirroring||!1;this.X=null;this.O=!1;this.Z=[];this.D=(0,g.Ij)(this.jX,this)}init(n,q){chrome.cast.timeout.requestSession=3E4;var M=new chrome.cast.SessionRequest(this.RL,[chrome.cast.Capability.AUDIO_OUT]);g.QW("desktop_enable_cast_connect")&&(M.androidReceiverCompatible=!0);this.Wb||(M.dialRequest=new chrome.cast.DialRequest("YouTube"));
const t=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED;n=n||this.C?chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:chrome.cast.DefaultActionPolicy.CREATE_SESSION;const c=(0,g.Ij)(this.aL,this);M=new chrome.cast.ApiConfig(M,(0,g.Ij)(this.V,this),c,t,n);M.customDialLaunchCallback=(0,g.Ij)(this.JE,this);chrome.cast.initialize(M,(0,g.Ij)(function(){this.fm()||(chrome.cast.addReceiverActionListener(this.D),YOn(),this.W.subscribe("onlineScreenChange",(0,g.Ij)(this.j,this)),this.Z=ZqK(this),chrome.cast.setCustomReceivers(this.Z,
()=>{},(0,g.Ij)(function(Y){this.SY("Failed to set initial custom receivers: "+g.lM(Y))},this)),this.publish("yt-remote-cast2-availability-change",eM(this)),q(!0))},this),(0,g.Ij)(function(Y){this.SY("Failed to initialize API: "+g.lM(Y));
q(!1)},this))}Gs(n,q){Es("Setting connected screen ID: "+n+" -> "+q);
if(this.X){var M=this.X.X;if(!n||M&&M.id!=n)Es("Unsetting old screen status: "+this.X.W.friendlyName),hR(this,null)}if(n&&q){if(!this.X){n=W1(this.W.j_(),n);if(!n){Es("setConnectedScreenStatus: Unknown screen.");return}if(n.idType=="shortLived"){Es("setConnectedScreenStatus: Screen with id type to be short lived.");return}M=F6O(this,n);M||(Es("setConnectedScreenStatus: Connected receiver not custom..."),M=new chrome.cast.Receiver(n.uuid?n.uuid:n.id,n.name),M.receiverType=chrome.cast.ReceiverType.CUSTOM,
this.Z.push(M),chrome.cast.setCustomReceivers(this.Z,()=>{},(0,g.Ij)(function(t){this.SY("Failed to set initial custom receivers: "+g.lM(t))},this)));
Es("setConnectedScreenStatus: new active receiver: "+M.friendlyName);hR(this,new obn(this.W,M),!0)}this.X.oD(q)}else Es("setConnectedScreenStatus: no screen.")}nm(n){this.fm()?this.SY("Setting connection data on disposed cast v2"):this.X?this.X.D(n):this.SY("Setting connection data without a session")}Q1(){this.fm()?this.SY("Stopping session on disposed cast v2"):this.X?(this.X.stop(),hR(this,null)):Es("Stopping non-existing session")}requestSession(){chrome.cast.requestSession((0,g.Ij)(this.V,this),
(0,g.Ij)(this.Fy,this))}Zk(){this.W.unsubscribe("onlineScreenChange",(0,g.Ij)(this.j,this));window.chrome&&chrome.cast&&chrome.cast.removeReceiverActionListener(this.D);var n=iqQ;const q=g.EJ("yt.mdx.remote.debug.handlers_");g.MD(q||[],n);g.Hm(this.X);super.Zk()}SY(n){oH("Controller",n)}xl(n,q){this.X==n&&(q||hR(this,null),this.publish("yt-remote-cast2-session-change",q))}jX(n,q){if(!this.fm())if(n)switch(n.friendlyName=chrome.cast.unescape(n.friendlyName),Es("onReceiverAction_ "+n.label+" / "+n.friendlyName+
"-- "+q),q){case chrome.cast.ReceiverAction.CAST:if(this.X)if(this.X.W.label!=n.label)Es("onReceiverAction_: Stopping active receiver: "+this.X.W.friendlyName),this.X.stop();else{Es("onReceiverAction_: Casting to active receiver.");this.X.X&&this.publish("yt-remote-cast2-session-change",this.X.X);break}switch(n.receiverType){case chrome.cast.ReceiverType.CUSTOM:hR(this,new obn(this.W,n));break;case chrome.cast.ReceiverType.DIAL:hR(this,new RwD(this.W,n,this.J,this.config_));break;case chrome.cast.ReceiverType.CAST:hR(this,
new Iu(this.W,n,this.config_));break;default:this.SY("Unknown receiver type: "+n.receiverType)}break;case chrome.cast.ReceiverAction.STOP:this.X&&this.X.W.label==n.label?this.X.stop():this.SY("Stopping receiver w/o session: "+n.friendlyName)}else this.SY("onReceiverAction_ called without receiver.")}JE(n){if(this.fm())return Promise.reject(Error("disposed"));var q=n.receiver;q.receiverType!=chrome.cast.ReceiverType.DIAL&&(this.SY("Not DIAL receiver: "+q.friendlyName),q.receiverType=chrome.cast.ReceiverType.DIAL);
var M=this.X?this.X.W:null;if(!M||M.label!=q.label)return this.SY("Receiving DIAL launch request for non-clicked DIAL receiver: "+q.friendlyName),Promise.reject(Error("illegal DIAL launch"));if(M&&M.label==q.label&&M.receiverType!=chrome.cast.ReceiverType.DIAL){if(this.X.X)return Es("Reselecting dial screen."),this.publish("yt-remote-cast2-session-change",this.X.X),Promise.resolve(new chrome.cast.DialLaunchResponse(!1));this.SY('Changing CAST intent from "'+M.receiverType+'" to "dial" for '+q.friendlyName);
hR(this,new RwD(this.W,q,this.J,this.config_))}q=this.X;q.V=n;q.V.appState==chrome.cast.DialAppState.RUNNING?(n=q.V.extraData||{},M=n.screenId||null,Nr(q)&&n.loungeToken?n.loungeTokenRefreshIntervalMs?n=$8n(q,{name:q.W.friendlyName,screenId:n.screenId,loungeToken:n.loungeToken,dialId:q.V.receiver.label,screenIdType:"shortLived"},n.loungeTokenRefreshIntervalMs):(g.St(Error(`No loungeTokenRefreshIntervalMs presents in additionalData: ${JSON.stringify(n)}.`)),n=ATs(q,M)):n=ATs(q,M)):n=da(q);return n}V(n){if(!this.fm()&&
!this.C){Es("New cast session ID: "+n.sessionId);var q=n.receiver;if(q.receiverType!=chrome.cast.ReceiverType.CUSTOM){if(!this.X)if(q.receiverType==chrome.cast.ReceiverType.CAST)Es("Got resumed cast session before resumed mdx connection."),q.friendlyName=chrome.cast.unescape(q.friendlyName),hR(this,new Iu(this.W,q,this.config_),!0);else{this.SY("Got non-cast session without previous mdx receiver event, or mdx resume.");return}var M=this.X.W,t=W1(this.W.j_(),M.label);t&&OB(t,q.label)&&M.receiverType!=
chrome.cast.ReceiverType.CAST&&q.receiverType==chrome.cast.ReceiverType.CAST&&(Es("onSessionEstablished_: manual to cast session change "+q.friendlyName),g.Hm(this.X),this.X=new Iu(this.W,q,this.config_),this.X.subscribe("sessionScreen",(0,g.Ij)(this.xl,this,this.X)),this.X.subscribe("sessionFailed",()=>anD(this,this.X)),this.X.D(null));
this.X.RL(n)}}}U(){return this.X?this.X.fJ():null}Fy(n){this.fm()||(this.SY("Failed to estabilish a session: "+g.lM(n)),n.code!=chrome.cast.ErrorCode.CANCEL&&hR(this,null),this.publish("yt-remote-cast2-session-failed"))}aL(n){Es("Receiver availability updated: "+n);if(!this.fm()){var q=eM(this);this.O=n==chrome.cast.ReceiverAvailability.AVAILABLE;eM(this)!=q&&this.publish("yt-remote-cast2-availability-change",eM(this))}}j(){this.fm()||(this.Z=ZqK(this),Es("Updating custom receivers: "+g.lM(this.Z)),
chrome.cast.setCustomReceivers(this.Z,()=>{},(0,g.Ij)(function(){this.SY("Failed to set custom receivers.")},this)),this.publish("yt-remote-cast2-availability-change",eM(this)))}};
vx.prototype.setLaunchParams=vx.prototype.nm;vx.prototype.setConnectedScreenStatus=vx.prototype.Gs;vx.prototype.stopSession=vx.prototype.Q1;vx.prototype.getCastSession=vx.prototype.U;vx.prototype.requestSession=vx.prototype.requestSession;vx.prototype.init=vx.prototype.init;vx.prototype.dispose=vx.prototype.dispose;var I3=[],JTn=(0,g.n7)`https://www.gstatic.com/cv/js/sender/v1/cast_sender.js`;g.f=TI.prototype;
g.f.reset=function(n){this.listId="";this.index=-1;this.videoId="";l5(this);this.volume=-1;this.muted=!1;n&&(this.index=n.index,this.listId=n.listId,this.videoId=n.videoId,this.playerState=n.playerState,this.volume=n.volume,this.muted=n.muted,this.audioTrackId=n.audioTrackId,this.trackData=n.trackData,this.fR=n.hasPrevious,this.S_=n.hasNext,this.D=n.playerTime,this.j=n.playerTimeAt,this.W=n.seekableStart,this.C=n.seekableEnd,this.Z=n.duration,this.O=n.loadedTime,this.X=n.liveIngestionTime,this.J=
!isNaN(this.X))};
g.f.isPlaying=function(){return this.playerState==1};
g.f.isBuffering=function(){return this.playerState==3};
g.f.nL=function(n){this.Z=isNaN(n)?0:n};
g.f.getDuration=function(){return this.J?this.Z+Us(this):this.Z};
g.f.clone=function(){return new TI(AR(this))};var wLS=class extends g.Sh{constructor(){var n=K2();super();this.Z=0;this.J=n;this.C=[];this.j=new BJQ;this.W=this.X=null;this.U=(0,g.Ij)(this.jX,this);this.V=(0,g.Ij)(this.D,this);this.xl=(0,g.Ij)(this.JE,this);this.Wb=(0,g.Ij)(this.aL,this);let q=0;n?(q=n.getProxyState(),q!=3&&(n.subscribe("proxyStateChange",this.RL,this),qZQ(this))):q=3;q!=0&&g.Jx(()=>{this.RL(q)},0);
(n=QyS())&&mL(this,n);this.subscribe("yt-remote-cast2-session-change",this.Wb)}getState(){return this.Z}VZ(){return this.J.getReconnectTimeout()}CE(){this.J.reconnect()}play(){Fo(this)?(this.X?this.X.play(null,g.FL,a3(this,"play")):ZM(this,"play"),o3(this,1,Bx($S(this))),this.publish("remotePlayerChange")):wa(this,this.play)}pause(){Fo(this)?(this.X?this.X.pause(null,g.FL,a3(this,"pause")):ZM(this,"pause"),o3(this,2,Bx($S(this))),this.publish("remotePlayerChange")):wa(this,this.pause)}seekTo(n){if(Fo(this)){if(this.X){const q=
$S(this),M=new chrome.cast.media.SeekRequest;M.currentTime=n;q.isPlaying()||q.isBuffering()?M.resumeState=chrome.cast.media.ResumeState.PLAYBACK_START:M.resumeState=chrome.cast.media.ResumeState.PLAYBACK_PAUSE;this.X.seek(M,g.FL,a3(this,"seekTo",{newTime:n}))}else ZM(this,"seekTo",{newTime:n});o3(this,3,n);this.publish("remotePlayerChange")}else wa(this,g.fa(this.seekTo,n))}stop(){if(Fo(this)){this.X?this.X.stop(null,g.FL,a3(this,"stopVideo")):ZM(this,"stopVideo");var n=$S(this);n.index=-1;n.videoId=
"";l5(n);R3(this,n);this.publish("remotePlayerChange")}else wa(this,this.stop)}setVolume(n,q){if(Fo(this)){var M=$S(this);if(this.W){if(M.volume!=n){const t=Math.round(n)/100;this.W.setReceiverVolumeLevel(t,(0,g.Ij)(function(){wx("set receiver volume: "+t)},this),(0,g.Ij)(function(){this.SY("failed to set receiver volume.")},this))}M.muted!=q&&this.W.setReceiverMuted(q,(0,g.Ij)(function(){wx("set receiver muted: "+q)},this),(0,g.Ij)(function(){this.SY("failed to set receiver muted.")},this))}else{const t=
{volume:n,
muted:q};M.volume!=-1&&(t.delta=n-M.volume);ZM(this,"setVolume",t)}M.muted=q;M.volume=n;R3(this,M)}else wa(this,g.fa(this.setVolume,n,q))}O(n,q){if(Fo(this)){var M=$S(this);n={videoId:n};q&&(M.trackData={trackName:q.name,languageCode:q.languageCode,sourceLanguageCode:q.translationLanguage?q.translationLanguage.languageCode:"",languageName:q.languageName,kind:q.kind},n.style=g.lM(q.style),g.qk(n,M.trackData));ZM(this,"setSubtitlesTrack",n);R3(this,M)}else wa(this,g.fa(this.O,n,q))}setAudioTrack(n,
q){Fo(this)?(q=q.getLanguageInfo().getId(),ZM(this,"setAudioTrack",{videoId:n,audioTrackId:q}),n=$S(this),n.audioTrackId=q,R3(this,n)):wa(this,g.fa(this.setAudioTrack,n,q))}playVideo(n,q,M,t=null,c=null,Y=null,G=null){const K=$S(this),k={videoId:n};M!==void 0&&(k.currentIndex=M);DM(K,n,M||0);q!==void 0&&(u5(K,q),k.currentTime=q);t&&(k.listId=t);c&&(k.playerParams=c);Y&&(k.clickTrackingParams=Y);G&&(k.locationInfo=g.lM(G));ZM(this,"setPlaylist",k);t||R3(this,K)}Ry(n,q){if(Fo(this)){if(n&&q){const M=
$S(this);DM(M,n,q);R3(this,M)}ZM(this,"previous")}else wa(this,g.fa(this.Ry,n,q))}nextVideo(n,q){if(Fo(this)){if(n&&q){const M=$S(this);DM(M,n,q);R3(this,M)}ZM(this,"next")}else wa(this,g.fa(this.nextVideo,n,q))}oo(){if(Fo(this)){ZM(this,"clearPlaylist");var n=$S(this);n.reset();R3(this,n);this.publish("remotePlayerChange")}else wa(this,this.oo)}Q1(){Fo(this)?ZM(this,"dismissAutoplay"):wa(this,this.Q1)}dispose(){if(this.Z!=3){const n=this.Z;this.Z=3;this.publish("proxyStateChange",n,this.Z)}super.dispose()}Zk(){MZA(this);
this.J=null;this.j.clear();mL(this,null);super.Zk()}RL(n){if((n!=this.Z||n==2)&&this.Z!=3&&n!=0){var q=this.Z;this.Z=n;this.publish("proxyStateChange",q,n);if(n==1)for(;!this.j.isEmpty();)q=n=this.j,q.X.length===0&&(q.X=q.W,q.X.reverse(),q.W=[]),n.X.pop().apply(this);else n==3&&this.dispose()}}Fy(n,q){this.publish(n,q)}jX(n){if(!n)this.D(null),mL(this,null);else if(this.W.receiver.volume){n=this.W.receiver.volume;const q=$S(this),M=Math.round(100*n.level||0);if(q.volume!=M||q.muted!=n.muted)wx("Cast volume update: "+
n.level+(n.muted?" muted":"")),q.volume=M,q.muted=!!n.muted,R3(this,q)}}D(n){wx("Cast media: "+!!n);this.X&&this.X.removeUpdateListener(this.xl);if(this.X=n)this.X.addUpdateListener(this.xl),iCT(this),this.publish("remotePlayerChange")}JE(n){n?(iCT(this),this.publish("remotePlayerChange")):this.D(null)}WG(){ZM(this,"sendDebugCommand",{debugCommand:"stats4nerds "})}aL(){const n=QyS();n&&mL(this,n)}SY(n){oH("CP",n)}};var hD=class extends g.Sh{constructor(n,q=!1){var M=Qk,t=Yf();super();this.D=NaN;this.JE=!1;this.U=this.xl=this.RL=this.Wb=NaN;this.Q1=[];this.j=this.O=this.J=this.X=this.W=null;this.Dk=M;this.Fy=q;this.Q1.push(g.gB(window,"beforeunload",()=>{this.C(2)}));
this.Z=[];this.X=new TI;this.tE=n.id;this.aL=n.idType;this.W=MaF(this.Dk,t,this.jX,this.aL=="shortLived",this.tE);this.W.listen("channelOpened",()=>{tZd(this)});
this.W.listen("channelClosed",()=>{zI("Channel closed");isNaN(this.D)?SD(!0):SD();this.dispose()});
this.W.listen("channelError",c=>{SD();isNaN(this.V())?(c==1&&this.aL=="shortLived"&&this.publish("browserChannelAuthError",c),zI(`Channel error: ${c} without reconnection`),this.dispose()):(this.JE=!0,zI("Channel error: "+c+" with reconnection in "+this.V()+" ms"),Vk(this,2))});
this.W.listen("channelMessage",c=>{Ebw(this,c)});
this.W.E3(n.token);this.subscribe("remoteQueueChange",()=>{var c=this.X.videoId;g.Hh()&&g.Sz("yt-remote-session-video-id",c)})}connect(n,q){if(q){var M=q.listId;
const t=q.videoId,c=q.videoIds,Y=q.playerParams,G=q.clickTrackingParams,K=q.index,k={videoId:t},b=q.currentTime,d=q.locationInfo;q=q.loopMode;b!==void 0&&(k.currentTime=b<=5?0:b);Y&&(k.playerParams=Y);d&&(k.locationInfo=d);G&&(k.clickTrackingParams=G);M&&(k.listId=M);c&&c.length>0&&(k.videoIds=c.join(","));K!==void 0&&(k.currentIndex=K);this.Fy&&(k.loopMode=q||"LOOP_MODE_OFF");M&&(this.X.listId=M);this.X.videoId=t;this.X.index=K||0;this.X.state=3;u5(this.X,b);this.j="UNSUPPORTED";M=this.Fy?"setInitialState":
"setPlaylist";zI(`Connecting with ${M} and params: ${g.lM(k)}`);this.W.connect({method:M,params:g.lM(k)},n,N$F())}else zI("Connecting without params"),this.W.connect({},n,N$F());hwF(this)}E3(n){this.W.E3(n)}dispose(){this.fm()||(g.OJ("yt.mdx.remote.remoteClient_",null),this.publish("beforeDispose"),Vk(this,3));super.dispose()}Zk(){CZ(this);ra(this);JR(this);g.CM(this.xl);this.xl=NaN;g.CM(this.U);this.U=NaN;this.J=null;g.ez(this.Q1);this.Q1.length=0;this.W.dispose();super.Zk();this.j=this.O=this.Z=
this.X=this.W=null}nm(n){if(!this.Z||this.Z.length===0)return!1;for(const q of this.Z)if(!q.capabilities.has(n))return!1;return!0}Bb(){let n=3;this.fm()||(n=0,isNaN(this.V())?this.W.Pj()&&isNaN(this.D)&&(n=1):n=2);return n}C(n){zI("Disconnecting with "+n);g.OJ("yt.mdx.remote.remoteClient_",null);CZ(this);this.publish("beforeDisconnect",n);n==1&&SD();this.W.disconnect(n);this.dispose()}Ex(){let n=this.X;this.J&&(n=this.X.clone(),DM(n,this.J,n.index));return AR(n)}Xh(n){const q=new TI(n);q.videoId&&
q.videoId!=this.X.videoId&&(this.J=q.videoId,g.CM(this.xl),this.xl=g.Jx(()=>{if(this.J){const t=this.J;this.J=null;this.X.videoId!=t&&xS(this,"getNowPlaying")}},5E3));
const M=[];this.X.listId==q.listId&&this.X.videoId==q.videoId&&this.X.index==q.index||M.push("remoteQueueChange");this.X.playerState==q.playerState&&this.X.volume==q.volume&&this.X.muted==q.muted&&Bx(this.X)==Bx(q)&&g.lM(this.X.trackData)==g.lM(q.trackData)||M.push("remotePlayerChange");this.X.reset(n);g.Fm(M,function(t){this.publish(t)},this)}Gs(){const n=this.W.getDeviceId(),q=g.V1(this.Z,function(M){return M.type=="REMOTE_CONTROL"&&M.id!=n});
return q?q.id:""}V(){return this.W.VZ()}Nm(){return this.j||"UNSUPPORTED"}Hb(){return this.O||""}Ox(){!isNaN(this.V())&&this.W.CE()}QS(n,q){xS(this,n,q);sqS(this)}jX(){var n=g.sY("SAPISID","")||g.sY("__Secure-1PAPISID")||"",q=g.sY("__Secure-3PAPISID","")||"";if(!n&&!q)return"";n=g.QD(g.zf(n),2);q=g.QD(g.zf(q),2);return g.QD(g.zf(`,${n},${q}`),2)}};hD.prototype.subscribe=hD.prototype.subscribe;hD.prototype.unsubscribeByKey=hD.prototype.bS;hD.prototype.getProxyState=hD.prototype.Bb;
hD.prototype.disconnect=hD.prototype.C;hD.prototype.getPlayerContextData=hD.prototype.Ex;hD.prototype.setPlayerContextData=hD.prototype.Xh;hD.prototype.getOtherConnectedRemoteId=hD.prototype.Gs;hD.prototype.getReconnectTimeout=hD.prototype.V;hD.prototype.getAutoplayMode=hD.prototype.Nm;hD.prototype.getAutoplayVideoId=hD.prototype.Hb;hD.prototype.reconnect=hD.prototype.Ox;hD.prototype.sendMessage=hD.prototype.QS;hD.prototype.getXsrfToken=hD.prototype.jX;
hD.prototype.isCapabilitySupportedOnConnectedDevices=hD.prototype.nm;var LJd=class extends CJ{constructor(n){super("ScreenServiceProxy");this.ac=n;this.X=[];this.X.push(this.ac.$_s("screenChange",(0,g.Ij)(this.W,this)));this.X.push(this.ac.$_s("onlineScreenChange",(0,g.Ij)(this.Z,this)))}j_(n){return this.ac.$_gs(n)}contains(n){return!!this.ac.$_c(n)}get(n){return this.ac.$_g(n)}start(){this.ac.$_st()}add(n,q,M){this.ac.$_a(n,q,M)}remove(n,q,M){this.ac.$_r(n,q,M)}zc(n,q,M,t){this.ac.$_un(n,q,M,t)}Zk(){const n=this.X.length;for(let q=0;q<n;++q)this.ac.$_ubk(this.X[q]);
this.X.length=0;this.ac=null;super.Zk()}W(){this.publish("screenChange")}Z(){this.publish("onlineScreenChange")}};i5.prototype.$_st=i5.prototype.start;i5.prototype.$_gspc=i5.prototype.IR;i5.prototype.$_gsppc=i5.prototype.l2;i5.prototype.$_c=i5.prototype.contains;i5.prototype.$_g=i5.prototype.get;i5.prototype.$_a=i5.prototype.add;i5.prototype.$_un=i5.prototype.zc;i5.prototype.$_r=i5.prototype.remove;i5.prototype.$_gs=i5.prototype.j_;i5.prototype.$_gos=i5.prototype.qE;i5.prototype.$_s=i5.prototype.subscribe;
i5.prototype.$_ubk=i5.prototype.bS;var bF=null,Ej=!1,Qk=null,pZ=null,ev=null,iF=[];var zwd=class extends g.Pm{constructor(n,q,M){super();this.X=n;this.G=q;this.cg=M;this.events=new g.cS(this);this.D=!1;this.O=new g.tU(64);this.W=new g.Ms(this.jX,500,this);this.Z=new g.Ms(this.aL,1E3,this);this.xl=new UB(this.tE,0,this);this.J={};this.U=new g.Ms(this.Gs,1E3,this);this.V=new g.MJ(this.seekTo,1E3,this);this.nm=this.events.N(this.G,"onVolumeChange",t=>{TlF(this,t)});
g.L(this,this.events);this.events.N(q,"onCaptionsTrackListChanged",this.Ox);this.events.N(q,"captionschanged",this.Dk);this.events.N(q,"captionssettingschanged",this.Fy);this.events.N(q,"videoplayerreset",this.C);this.events.N(q,"mdxautoplaycancel",()=>{this.cg.Q1()});
q.A("enable_mdx_video_play_directly")&&this.events.N(q,"videodatachange",()=>{u7Q(this.X)||Ww(this)||y4(this,0)});
n=this.cg;n.fm();n.subscribe("proxyStateChange",this.JE,this);n.subscribe("remotePlayerChange",this.j,this);n.subscribe("remoteQueueChange",this.C,this);n.subscribe("previousNextChange",this.Wb,this);n.subscribe("nowAutoplaying",this.RL,this);n.subscribe("autoplayDismissed",this.Q1,this);g.L(this,this.W);g.L(this,this.Z);g.L(this,this.xl);g.L(this,this.U);g.L(this,this.V);this.Fy();this.C();this.j()}Zk(){super.Zk();this.W.stop();this.Z.stop();this.xl.stop();const n=this.cg;n.unsubscribe("proxyStateChange",
this.JE,this);n.unsubscribe("remotePlayerChange",this.j,this);n.unsubscribe("remoteQueueChange",this.C,this);n.unsubscribe("previousNextChange",this.Wb,this);n.unsubscribe("nowAutoplaying",this.RL,this);n.unsubscribe("autoplayDismissed",this.Q1,this);this.cg=this.X=null}P_(n,...q){if(this.cg.Z!=2)if(Ww(this)){if($S(this.cg).playerState!=1081||n!=="control_seek")switch(n){case "control_toggle_play_pause":$S(this.cg).isPlaying()?this.cg.pause():this.cg.play();break;case "control_play":this.cg.play();
break;case "control_pause":this.cg.pause();break;case "control_seek":this.V.J(q[0],q[1]);break;case "control_subtitles_set_track":sj(this,q[0]);break;case "control_set_audio_track":this.setAudioTrack(q[0])}}else switch(n){case "control_toggle_play_pause":case "control_play":case "control_pause":n=this.G.getCurrentTime();y4(this,n===0?void 0:n);break;case "control_seek":y4(this,q[0]);break;case "control_subtitles_set_track":sj(this,q[0]);break;case "control_set_audio_track":this.setAudioTrack(q[0])}}Dk(n){this.xl.QM(n)}tE(n){this.P_("control_subtitles_set_track",
g.JF(n)?null:n)}Fy(){const n=this.G.getOption("captions","track");g.JF(n)||sj(this,n)}tQ(n){this.X.tQ(n,this.G.getVideoData().lengthSeconds)}Ox(){g.JF(this.J)||l8Q(this,this.J);this.D=!1}JE(n,q){this.Z.stop();q===2&&this.aL()}j(){if(Ww(this)){this.W.stop();var n=$S(this.cg);switch(n.playerState){case 1080:case 1081:case 1084:case 1085:this.X.w4=1;break;case 1082:case 1083:this.X.w4=0;break;default:this.X.w4=-1}switch(n.playerState){case 1081:case 1:this.JQ(new g.tU(8));this.jX();break;case 1085:case 3:this.JQ(new g.tU(9));
break;case 1083:case 0:this.JQ(new g.tU(2));this.V.stop();this.tQ(this.G.getVideoData().lengthSeconds);break;case 1084:this.JQ(new g.tU(4));break;case 2:this.JQ(new g.tU(4));this.tQ(Bx(n));break;case -1:this.JQ(new g.tU(64));break;case -1E3:this.JQ(new g.tU(128,{errorCode:"mdx.remoteerror",errorMessage:"This video is not available for remote playback.",CO:2}))}const M=$S(this.cg).trackData;n=M;var q=this.J;(n||q?n&&q&&n.trackName==q.trackName&&n.languageCode==q.languageCode&&n.languageName==q.languageName&&
n.kind==q.kind:1)||(this.J=M,l8Q(this,M));n=$S(this.cg);n.volume===-1||Math.round(this.G.getVolume())===n.volume&&this.G.isMuted()===n.muted||this.U.isActive()||this.Gs()}else UOF(this)}Wb(){this.G.publish("mdxpreviousnextchange")}C(){Ww(this)||UOF(this)}RL(n){isNaN(n)||this.G.publish("mdxnowautoplaying",n)}Q1(){this.G.publish("mdxautoplaycanceled")}setAudioTrack(n){Ww(this)&&this.cg.setAudioTrack(this.G.getVideoData(1).videoId,n)}seekTo(n,q){$S(this.cg).playerState===-1?y4(this,n):q&&this.cg.seekTo(n)}Gs(){if(Ww(this)){var n=
$S(this.cg);this.events.Oq(this.nm);n.muted?this.G.mute():this.G.unMute();this.G.setVolume(n.volume);this.nm=this.events.N(this.G,"onVolumeChange",q=>{TlF(this,q)})}}jX(){this.W.stop();
if(!this.cg.fm()){var n=$S(this.cg);n.isPlaying()&&this.JQ(new g.tU(8));this.tQ(Bx(n));this.W.start()}}aL(){this.Z.stop();this.W.stop();const n=this.cg.VZ();this.cg.Z==2&&!isNaN(n)&&this.Z.start()}JQ(n){this.Z.stop();const q=this.O;if(!g.b_(q,n)){const M=n.X(2);M!==this.O.X(2)&&this.G.Yd(M);this.O=n;BlA(this.X,q,n)}}};var Jts=class extends g.lt{constructor(n,q){super(n);this.X=q}getCurrentTime(){return this.X.getCurrentTime()}getDuration(){return this.X.getDuration()}wZ(){return this.X.wZ()}D7(){return this.X.D7()}h9(){return this.X.h9()}Tj(){return this.X.Tj()}getPlayerState(){return this.X.QA}isAtLiveHead(){return this.X.isAtLiveHead()}pauseVideo(){Xn(this.X,"control_pause")}async playVideo(){Xn(this.X,"control_play")}seekTo(n,q){Xn(this.X,"control_seek",n,!q?.xL)}Qm(n){Xn(this.X,"control_set_audio_track",n);
return!0}};var VZF=class extends g.Q{constructor(){super({S:"div",Y:"ytp-mdx-popup-dialog",K:{role:"dialog"},L:[{S:"div",Y:"ytp-mdx-popup-dialog-inner-content",L:[{S:"div",Y:"ytp-mdx-popup-title",ut:"You're signed out"},{S:"div",Y:"ytp-mdx-popup-description",ut:"Videos you watch may be added to the TV's watch history and influence TV recommendations. To avoid this, cancel and sign in to YouTube on your computer."},{S:"div",Y:"ytp-mdx-privacy-popup-buttons",L:[{S:"button",SX:["ytp-button","ytp-mdx-privacy-popup-cancel"],
ut:"Cancel"},{S:"button",SX:["ytp-button","ytp-mdx-privacy-popup-confirm"],ut:"Confirm"}]}]}]});this.fade=new g.Pi(this,250);this.cancelButton=this.pm("ytp-mdx-privacy-popup-cancel");this.confirmButton=this.pm("ytp-mdx-privacy-popup-confirm");g.L(this,this.fade);this.N(this.cancelButton,"click",this.X);this.N(this.confirmButton,"click",this.W)}Uq(){this.fade.show()}r7(){this.fade.hide()}X(){fG("mdx-privacy-popup-cancel");this.r7()}W(){fG("mdx-privacy-popup-confirm");this.r7()}};var C9n=class extends g.Q{constructor(n){super({S:"div",Y:"ytp-remote",L:[{S:"div",Y:"ytp-remote-display-status",L:[{S:"div",Y:"ytp-remote-display-status-icon",L:[g.hF1()]},{S:"div",Y:"ytp-remote-display-status-text",ut:"{{statustext}}"}]}]});this.api=n;this.fade=new g.Pi(this,250);g.L(this,this.fade);this.N(n,"presentingplayerstatechange",this.onStateChange);this.Kn(n.getPlayerStateObject())}onStateChange(n){this.Kn(n.state)}Kn(n){if(this.api.getPresentingPlayerType()===3){const q={RECEIVER_NAME:this.api.getOption("remote",
"currentReceiver").name};n=n.X(128)?g.WH("Error on $RECEIVER_NAME",q):n.isPlaying()||n.isPaused()?g.WH("Playing on $RECEIVER_NAME",q):g.WH("Connected to $RECEIVER_NAME",q);this.updateValue("statustext",n);this.fade.show()}else this.fade.hide()}};var rtS=class extends g.y${constructor(n,q){super("Play on",1,n,q);this.G=n;this.qy={};this.N(n,"onMdxReceiversChange",this.O);this.N(n,"presentingplayerstatechange",this.O);this.O()}O(){var n=this.G.getOption("remote","receivers");n&&n.length>1&&!this.G.getOption("remote","quickCast")?(this.qy=g.vs(n,this.D,this),this.j(g.aj(n,this.D)),n=this.G.getOption("remote","currentReceiver"),n=this.D(n),this.options[n]&&this.W(n),this.enable(!0)):this.enable(!1)}D(n){return n.key}J(n){return n==="cast-selector-receiver"?
"Cast...":this.qy[n].name}X(n){super.X(n);this.G.setOption("remote","currentReceiver",this.qy[n]);this.xi.r7()}};g.By("remote",class extends g.jx{constructor(n){super(n);this.h2={key:EB(),name:"This computer"};this.eK=null;this.subscriptions=[];this.bf=this.cg=null;this.qy=[this.h2];this.n3=this.h2;this.QA=new g.tU(64);this.yb=0;this.w4=-1;this.k7=!1;this.JG=this.vW=this.zT=null;if(!g.fS(this.player.T())&&!g.Nt(this.player.T())){n=this.player;var q=g.mm(n);q&&(q=q.vk())&&(q=new rtS(n,q),g.L(this,q));q=new C9n(n);g.L(this,q);g.Qt(n,q.element,4);this.zT=new VZF;g.L(this,this.zT);g.Qt(n,this.zT.element,4);this.k7=
!!cw()}}create(){var n=this.player.T();const q=g.LS(n);n={device:"Desktop",app:"youtube-desktop",loadCastApiSetupScript:n.A("mdx_load_cast_api_bootstrap_script"),enableDialLoungeToken:n.A("enable_dial_short_lived_lounge_token"),enableCastLoungeToken:n.A("enable_cast_short_lived_lounge_token")};I8s(q,n);this.subscriptions.push(g.P4("yt-remote-before-disconnect",this.lj,this));this.subscriptions.push(g.P4("yt-remote-connection-change",this.DR,this));this.subscriptions.push(g.P4("yt-remote-receiver-availability-change",
this.HV,this));this.subscriptions.push(g.P4("yt-remote-auto-connect",this.rg,this));this.subscriptions.push(g.P4("yt-remote-receiver-resumed",this.lU,this));this.subscriptions.push(g.P4("mdx-privacy-popup-confirm",this.Fi,this));this.subscriptions.push(g.P4("mdx-privacy-popup-cancel",this.IT,this));this.HV()}load(){this.player.cancelPlayback();super.load();this.JG=new Jts(this.player.T(),this);this.player.mM(this.JG);this.eK=new zwd(this,this.player,this.cg);var n=(n=vbF())?n.currentTime:0;const q=
g7()?new wLS:null;n==0&&q&&(n=Bx($S(q)));n!==0&&this.tQ(n);BlA(this,this.QA,this.QA);this.player.XI(6)}unload(){this.player.publish("mdxautoplaycanceled");this.player.Ft();this.n3=this.h2;g.Lq(this.eK,this.cg);this.cg=this.JG=this.eK=null;super.unload();this.player.XI(5);jv(this)}Zk(){g.v4(this.subscriptions);super.Zk()}getAdState(){return this.w4}fR(){return this.cg?$S(this.cg).fR:!1}S_(){return this.cg?$S(this.cg).S_:!1}tQ(n,q){this.yb=n||0;this.player.publish("progresssync",n,q);g.Br(this.player,
"onVideoProgress",n||0)}getCurrentTime(){return this.yb}getDuration(){return $S(this.cg).getDuration()||0}wZ(){var n=$S(this.cg);return n.J?n.X+Us(n):n.X}D7(){return $S(this.cg).O}h9(){return nbn($S(this.cg))}Tj(){var n=$S(this.cg);return n.W>0?n.W+Us(n):n.W}getProgressState(){const n=$S(this.cg),q=this.player.getVideoData();return{airingStart:0,airingEnd:0,allowSeeking:n.playerState!=1081&&this.player.vI(),clipEnd:q.clipEnd,clipStart:q.clipStart,current:this.getCurrentTime(),displayedStart:-1,duration:this.getDuration(),
ingestionTime:this.wZ(),isAtLiveHead:this.isAtLiveHead(),loaded:this.D7(),seekableEnd:this.h9(),seekableStart:this.Tj(),offset:0,viewerLivestreamJoinMediaTime:0}}isAtLiveHead(){return nbn($S(this.cg))-this.getCurrentTime()<=1}nextVideo(){this.cg&&this.cg.nextVideo()}Ry(){this.cg&&this.cg.Ry()}lj(n){n===1&&(this.bf=this.cg?$S(this.cg):null)}DR(){var n=g7()?new wLS:null;if(n){const q=this.n3;this.loaded&&this.unload();this.cg=n;this.bf=null;q.key!==this.h2.key&&(this.n3=q,this.load())}else g.Hm(this.cg),
this.cg=null,this.loaded&&(this.unload(),(n=this.bf)&&n.videoId===this.player.getVideoData().videoId&&this.player.cueVideoById(n.videoId,Bx(n)));this.player.publish("videodatachange","newdata",this.player.getVideoData(),3)}HV(){var n=[this.h2],q=n.concat;const M=f8G();fZ()&&g.Ir("yt-remote-cast-available")&&M.push({key:"cast-selector-receiver",name:"Cast..."});this.qy=q.call(n,M);n=kf()||this.h2;Sv(this,n);g.Br(this.player,"onMdxReceiversChange")}rg(){const n=kf();Sv(this,n)}lU(){this.n3=kf()}Fi(){this.k7=
!0;jv(this);Ej=!1;bF&&Ng(bF,1);bF=null}IT(){this.k7=!1;jv(this);Sv(this,this.h2);this.n3=this.h2;Ej=!1;bF=null;this.player.playVideo()}QP(n,q){switch(n){case "casting":return this.loaded;case "receivers":return this.qy;case "currentReceiver":return q&&(q.key==="cast-selector-receiver"?LZ():Sv(this,q)),this.loaded?this.n3:this.h2;case "quickCast":return this.qy.length===2&&this.qy[1].key==="cast-selector-receiver"?(q&&LZ(),!0):!1}}WG(){this.cg.WG()}qK(){return!1}getOptions(){return["casting","receivers",
"currentReceiver","quickCast"]}isLoggedIn(){return g.U("PLAYER_CONFIG")?.args?.authuser!==void 0?!0:!(!g.U("SESSION_INDEX")&&!g.U("LOGGED_IN"))}});})(_yt_player);
